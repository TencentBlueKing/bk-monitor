{"ops":[{"insert":"这是一个历史记录对话框组件，适合集成到需要展示对象历史变更记录、参数变更历史或操作审计记录等功能的系统中。\n\n主要功能"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n这套代码实现了一个历史记录查看功能，主要特点包括：\n1. 历史记录触发按钮：一个小型的图标按钮（32x32像素），点击后可以打开历史记录查看对话框\n2. 悬停效果：当鼠标悬停在按钮上时，按钮颜色会变为蓝色（#3a84ff）\n3. 弹窗展示：点击按钮后会弹出一个对话框，展示历史记录列表\n4. 灵活的数据展示：支持展示字符串、数字或标签数组等不同类型的历史记录数据\n5. 国际化支持：支持多语言显示（通过 vue-i18n）\n6. 自定义插槽：允许在对话框中插入自定义内容\n\n基本用法"},{"attributes":{"header":1},"insert":"\n"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"   <HistoryDialog "},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"     :list=\"historyData\" "},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"     title=\"我的历史记录\" "},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"     :showCallback=\"someAsyncFunction\" "},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"   />"},{"attributes":{"code-block":"vue"},"insert":"\n\n"},{"insert":"\n配置参数说明"},{"attributes":{"header":2},"insert":"\n"},{"insert":"   - `list` (可选): 历史记录数据数组，每个元素包含 `label`（标签）和 `value`（值）\n   - `title` (可选): 对话框标题，默认为\"变更记录\"\n   - `showCallback` (可选): 点击按钮前执行的异步回调函数\n\n数据格式示例"},{"attributes":{"header":2},"insert":"\n"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"   const historyData = ["},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"     { label: '创建人', value: 'user123' },"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"     { label: '创建时间', value: '2023-01-01' },"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"     { label: '标签', value: ['重要', '紧急'] },"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"     { label: '描述', value: '这是一个示例描述' }"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"   ];"},{"attributes":{"code-block":"javascript"},"insert":"\n\n"},{"insert":"\n组件工作原理"},{"attributes":{"header":1},"insert":"\n"},{"insert":"1. HistoryDialog 组件：\n   - 渲染一个带有历史记录图标的可点击按钮\n   - 点击按钮时，如果有 `showCallback` 则先执行该回调，然后显示对话框\n   - 内部嵌入了 `ViewParam` 组件来实际显示对话框内容\n\n2. ViewParam 组件：\n   - 使用蓝鲸的 `bk-dialog` 组件作为对话框容器\n   - 展示传入的 `list` 数据，对于数组类型的值会以标签形式展示\n   - 支持通过插槽自定义对话框内容\n   - 当没有插槽内容时，会自动根据 `list` 数据渲染键值对形式的参数列表\n"}],"extra":{"updator":"Austin","update_at":"2026-01-21 15:39:47"}}