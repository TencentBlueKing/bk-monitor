{"ops":[{"insert":"基本用途"},{"attributes":{"header":1},"insert":"\n"},{"insert":"这是一个基于 Vue.js 和 TypeScript 开发的自定义下拉选择组件 (`CustomSelect`)，它封装了蓝鲸组件库中的 `bk-select` 组件，提供了更灵活的自定义样式和交互功能。\n\n主要功能"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n1. 基础选择功能"},{"attributes":{"header":2},"insert":"\n"},{"insert":"   - 支持单选和多选（通过 `multiple` 属性控制）\n   - 支持可搜索选项（通过 `searchable` 属性控制）\n   - 可以传入选项数据（`options` 属性）\n\n2. 自定义样式"},{"attributes":{"header":2},"insert":"\n"},{"insert":"   - 提供了自定义的 SCSS 样式，包括悬停效果和激活状态\n   - 支持暗色主题（通过 `dark` 类名控制）\n   - 自定义选择框的触发器外观\n\n3. 交互功能"},{"attributes":{"header":2},"insert":"\n"},{"insert":"   - 点击触发器显示/隐藏下拉选择框\n   - 提供选择值变化和显示状态变化的事件\n   - 支持插槽自定义内容\n\n4. 响应式设计"},{"attributes":{"header":2},"insert":"\n"},{"insert":"   - 自动计算下拉框宽度\n   - 处理边界和隐藏事件\n\n使用方法"},{"attributes":{"header":1},"insert":"\n"},{"insert":"首先需要在你的 Vue 项目中导入这个组件：\n\n"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"import CustomSelect from './path/to/custom-select';"},{"attributes":{"code-block":"typescript"},"insert":"\n\n"},{"insert":"\n基本使用"},{"attributes":{"header":2},"insert":"\n"},{"insert":"\n"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"<CustomSelect "},{"attributes":{"code-block":"html"},"insert":"\n"},{"insert":"  v-model=\"selectedValue\" "},{"attributes":{"code-block":"html"},"insert":"\n"},{"insert":"  :options=\"selectOptions\""},{"attributes":{"code-block":"html"},"insert":"\n"},{"insert":"  @change=\"handleChange\""},{"attributes":{"code-block":"html"},"insert":"\n"},{"insert":"  @showChange=\"handleShowChange\""},{"attributes":{"code-block":"html"},"insert":"\n"},{"insert":"/>"},{"attributes":{"code-block":"html"},"insert":"\n\n"},{"insert":"\n属性 (Props)"},{"attributes":{"header":1},"insert":"\n"},{"insert":"- `multiple` (Boolean): 是否支持多选，默认为 `false`\n- `options` (IOption[]): 选择项数组，类型为 `IOption[]`\n- `searchable` (Boolean): 是否可搜索，默认为 `true`\n- `value` (number|string|(number|string)[]): 当前选中的值\n\n事件 (Events)"},{"attributes":{"header":1},"insert":"\n"},{"insert":"- `onSelected`: 当选择发生变化时触发，返回当前选中的值\n- `change`: 同 `onSelected`，选择值变化时触发\n- `showChange`: 下拉框显示状态变化时触发，返回布尔值表示是否显示\n\n插槽 (Slots)"},{"attributes":{"header":1},"insert":"\n"},{"insert":"- `target`: 自定义触发器内容\n- `default`: 自定义 `bk-select` 的内容\n\n依赖的 IOption 接口"},{"attributes":{"header":1},"insert":"\n"},{"insert":"选项数据应该符合 `IOption` 接口定义（通常包含 `id` 和 `name` 等字段），定义在 `../../pages/monitor-k8s/typings` 中。\n\n实现细节"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n1. **SCSS 样式** (`custom-select.scss`):\n   - 定义了 `.custom-select-wrap` 容器样式\n   - 自定义了触发器按钮的外观（24x24 像素，带悬停效果）\n   - 使用了蓝色 (#3a84ff) 作为激活状态颜色\n   - 预留了暗色主题支持（`.dark` 类）\n\n2. **TypeScript 组件** (`custom-select.tsx`):\n   - 使用 Vue Property Decorator 和 Vue TSX Support\n   - 通过 `@Model` 装饰器实现 v-model 双向绑定\n   - 封装了 `bk-select` 组件，添加了自定义逻辑\n   - 提供了显示/隐藏下拉框的方法\n   - 自动计算下拉框宽度并处理边界情况\n\n3. **技术栈**:\n   - Vue.js (使用 Class Component 风格)\n   - TypeScript\n   - SCSS\n   - 依赖蓝鲸组件库的 `bk-select` 组件\n\n这个组件适合在需要自定义外观的下拉选择场景中使用，特别是当标准选择组件不能满足 UI 需求时。\n"}],"extra":{"updator":"Austin","update_at":"2026-01-20 16:21:25"}}