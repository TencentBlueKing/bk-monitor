{"ops":[{"insert":"这是一个SVG 图标组件，名为 `SvgIcon`。它的主要用途是在前端项目中以组件化的方式引入和使用 SVG 图标，具有高度的可复用性和灵活性。\n\n基本用途"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n该组件用于在 Vue 应用中封装 SVG 图标的引用与展示，开发者可以通过传入图标名称，动态加载对应的 SVG 图标，并支持点击事件和样式自定义。\n\n主要功能"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n1. 动态加载 SVG 图标"},{"attributes":{"header":2},"insert":"\n"},{"insert":"- 通过 `iconName` 属性接收图标名称（如 `\"home\"` 或 `\"icon-home\"`）。\n- 组件内部会自动为图标名称添加前缀 `icon-`（如果用户未手动添加），并生成对应的 `id`，用于 `<use>` 标签引用 SVG Sprite 中的图标。\n\n2. 支持原生 SVG 属性与事件"},{"attributes":{"header":2},"insert":"\n"},{"insert":"- 使用了 `v-bind=\"$attrs\"`，意味着你可以直接给 `<SvgIcon>` 组件传递任何原生的 SVG 属性（比如 `class`, `style` 等），它们会被自动绑定到内部的 `<svg>` 元素上。\n- 支持点击事件：当用户点击图标时，会触发一个 `click` 事件，父组件可以监听并处理。\n\n3. 样式控制"},{"attributes":{"header":2},"insert":"\n"},{"insert":"- 图标默认大小为 `1em x 1em`，可通过 CSS 或内联样式调整。\n- 使用 `fill: currentColor`，使得图标的填充颜色默认继承父级文字颜色，便于主题色彩控制。\n- 设置了 `vertical-align: middle`，便于和文本垂直对齐。\n- `overflow: hidden` 避免 SVG 内容溢出。\n"},{"attributes":{"header":1},"insert":"\n"},{"insert":"使用方法"},{"attributes":{"header":1},"insert":"\n"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"<template>"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  <div>"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    <!-- 使用图标名称为 home -->"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    <SvgIcon iconName=\"home\" />"},{"attributes":{"code-block":"vue"},"insert":"\n\n"},{"insert":"    <!-- 使用带 icon- 前缀的名称 -->"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    <SvgIcon iconName=\"icon-user\" />"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"    <!-- 可以传入 class 或 style -->"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    <SvgIcon iconName=\"settings\" class=\"custom-class\" style=\"color: red;\" />"},{"attributes":{"code-block":"vue"},"insert":"\n\n"},{"insert":"    <!-- 监听点击事件 -->"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    <SvgIcon iconName=\"close\" @click=\"handleClose\" />"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  </div>"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"</template>"},{"attributes":{"code-block":"vue"},"insert":"\n\n"},{"insert":"<script>"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"import SvgIcon from '@/components/SvgIcon.vue'; // 根据实际路径引入"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"export default {"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  components: {"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    SvgIcon,"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  },"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"  methods: {"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    handleClose() {"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"      console.log('关闭图标被点击');"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    },"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  },"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"};"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"</script>"},{"attributes":{"code-block":"vue"},"insert":"\n\n"},{"insert":"\n前提条件：SVG Sprite"},{"attributes":{"header":2},"insert":"\n"},{"insert":"\n该组件依赖于一个 SVG Sprite 文件，其中应包含所有你希望使用的图标，每个图标的 `id` 应遵循如下格式：\n\n- 如果你传入 `iconName=\"home\"`，那么 Sprite 中应该有一个对应图标，其 `id=\"icon-home\"`；\n- 如果你传入 `iconName=\"icon-user\"`，那么对应的 `id=\"icon-user\"`。\n\n通常，SVG Sprite 是一个包含多个 `<symbol>` 的 SVG 文件，例如 `icons.svg`，并且通过工具（如 [svg-sprite-loader](https://github.com/kisenka/svg-sprite-loader)、[vite-plugin-svg-icons](https://github.com/vbenjs/vite-plugin-svg-icons) 等）打包到项目中，在 HTML 中以 `<svg style=\"display:none\"><symbol>...</symbol></svg>` 形式引入，或者通过其他方式让浏览器可以访问这些图标定义。\n\n优化建议"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n1. iconId 计算属性优化\n   当前代码中使用了 `toLocaleString()`，可能会导致非预期的字符格式（比如添加空格或本地化符号），建议修改为：\n\n"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"   iconId() {"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"     if (this.iconName.startsWith('icon-')) {"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"       return `#${this.iconName.trim()}`;"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"     }"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"     return `#icon-${this.iconName.trim()}`;"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"   },"},{"attributes":{"code-block":"javascript"},"insert":"\n\n"},{"insert":"   或者更严谨地判断是否以 `icon-` 开头：\n"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"   iconId() {"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"     return this.iconName.startsWith('icon-')"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"       ? `#${this.iconName.trim()}`"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"       : `#icon-${this.iconName.trim()}`;"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"   },"},{"attributes":{"code-block":"javascript"},"insert":"\n\n"},{"insert":"\n2. 考虑支持 size / color 等 props（可选增强）\n   可以扩展该组件，允许通过 `size`、`color` 等 props 更灵活地控制图标外观，而不仅依赖 CSS 或外部传入的 style/class。\n\n3. 无障碍支持（可补充）\n   可以增加 `aria-label` 或 `role=\"img\"` 等，进一步提升屏幕阅读器等辅助设备的体验。\n\n\n"}],"extra":{"updator":"Austin","update_at":"2026-01-21 17:37:24"}}