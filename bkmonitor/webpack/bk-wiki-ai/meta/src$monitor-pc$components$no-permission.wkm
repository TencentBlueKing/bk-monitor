{"ops":[{"insert":"这是一个用于展示无权限访问提示信息的 Vue 组件，主要功能是在用户尝试访问某个需要特定权限的资源但当前没有相应权限时，向用户展示一个友好的提示界面，并提供申请权限的入口。\n\n基本用途"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n- 当用户没有访问某页面或执行某操作的权限时，系统会展示这个组件，告知用户“无权限”，并引导用户去申请相应的权限。\n- 它是一个独立的、可复用的 Vue 组件，通常会在路由守卫、权限校验失败等场景中被调用。\n\n主要功能"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n1. 展示无权限提示 UI"},{"attributes":{"header":2},"insert":"\n"},{"insert":"   - 包括：\n     - 一个锁的图标（通过 SVG 图片展示）\n     - 标题文字：“无权限访问”\n     - 描述信息：“您没有该资源的权限，请先申请!”\n     - 一个按钮：“去申请”\n\n2. 动态获取权限申请链接"},{"attributes":{"header":2},"insert":"\n"},{"insert":"   - 组件接收一个 `actionIds` 属性，代表用户没有权限的具体操作 ID（可以是单个字符串或字符串数组）。\n   - 会根据传入的 `actionIds` 去后台接口查询对应的权限申请链接（`apply_url`），优先从 `authorityStore` 中获取。\n   - 如果没有获取到，会再尝试通过调用 `fetchBusinessInfo()` 接口获取默认的申请链接和相关业务信息。\n\n3. 跳转至权限申请页面"},{"attributes":{"header":2},"insert":"\n"},{"insert":"   - 点击“去申请”按钮后，会通过 `window.open()` 打开权限申请链接，引导用户进行权限申请操作。\n\n使用方法"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n1. 引入组件"},{"attributes":{"header":2},"insert":"\n"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"import NoPermission from '@/path/to/no-permission';"},{"attributes":{"code-block":"ts"},"insert":"\n\n"},{"insert":"\n2. 使用组件"},{"attributes":{"header":2},"insert":"\n"},{"insert":"在模板中作为普通组件使用，传入 `actionIds` 属性：\n"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"<NoPermission :actionIds=\"['view_business', 'edit_business']\" />"},{"attributes":{"code-block":"html"},"insert":"\n\n"},{"insert":"\n- `actionIds` 是一个 **字符串或字符串数组**，表示用户没有权限去执行的操作 ID。\n- 例如：用户没有查看业务的权限，可以传入 `'view_business'`；如果有多个权限缺失，可以传入数组 `['view_business', 'edit_business']`。\n\n3. 组件内部逻辑自动处理"},{"attributes":{"header":2},"insert":"\n"},{"insert":"\n- 组件接收到 `actionIds` 后，会自动调用相关接口，获取权限申请链接。\n- 如果成功获取到链接，则展示“去申请”按钮，点击后跳转到对应权限申请页面。\n- 如果未能获取到特定链接，会尝试获取一个默认的业务申请链接。\n\n总结"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n这是一个典型的 **权限控制提示组件**，适用于在权限不足时给予用户明确反馈和引导。它具备以下特点：\n\n- ✅ 支持传入多个权限 ID\n- ✅ 自动获取权限申请链接\n- ✅ 提供友好的 UI 提示和操作入口\n- ✅ 国际化支持\n- ✅ 可复用、易于集成\n\n通常配合前端路由权限控制、后端权限接口共同构成完整的权限管理体系。\n"}],"extra":{"updator":"Austin","update_at":"2026-01-21 16:49:27"}}