{"ops":[{"insert":"这里分别封装了两种不同的代码编辑器：Ace Editor（ace-editor.vue）和  Monaco Editor（monaco-editor.vue），用于在 Web 应用中提供代码编辑功能。\n\nace-editor.vue"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n基本用途"},{"attributes":{"header":2},"insert":"\n"},{"insert":"这是一个基于 **Ace Editor** 的 Vue 封装组件，用于在网页中嵌入一个功能丰富的代码编辑器，支持语法高亮、自动补全、主题切换等特性。\n\n主要功能"},{"attributes":{"header":2},"insert":"\n"},{"insert":"\n1. 代码编辑：支持多种编程语言的语法高亮和编辑。\n2. 主题支持：可通过 `theme` 属性切换编辑器主题（如 monokai）。\n3. 语言支持：通过 `lang` 属性设置编程语言模式（如 javascript）。\n4. 只读模式：通过 `readOnly` 属性控制是否只允许查看代码。\n5. 全屏模式：支持切换全屏显示，通过 `fullScreen` 属性控制。\n6. 错误状态提示：通过 `hasError` 属性可标识当前是否有错误（但未体现在 UI 上）。\n7. 双向数据绑定：通过 `value` 属性传入初始代码内容，并通过 `input` 事件将编辑后的内容传出。\n\n使用方法"},{"attributes":{"header":1},"insert":"\n"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"<template>"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  <ace-editor"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    v-model=\"code\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    :lang=\"'javascript'\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    :theme=\"'monokai'\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    :height=\"400\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    :width=\"'100%'\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    :read-only=\"false\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    @input=\"onCodeChange\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  />"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"</template>"},{"attributes":{"code-block":"vue"},"insert":"\n\n"},{"insert":"<script>"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"import AceEditor from './ace-editor.vue'"},{"attributes":{"code-block":"vue"},"insert":"\n\n"},{"insert":"export default {"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  components: {"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    AceEditor"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  },"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  data() {"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    return {"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"      code: '// 请输入你的代码'"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    }"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  },"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  methods: {"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    onCodeChange(value) {"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"      console.log('代码已更改:', value)"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    }"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  }"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"}"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"</script>"},{"attributes":{"code-block":"vue"},"insert":"\n\n"},{"insert":"\n> 注意：虽然组件内部监听了 `change` 事件并 `emit('input', ...)`，但要实现类似 `v-model` 的效果，通常需要父组件监听 `input` 事件并更新绑定的值。\n\nmonaco-editor.vue"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n基本用途"},{"attributes":{"header":2},"insert":"\n"},{"insert":"这是一个基于 **Monaco Editor**（VS Code 使用的代码编辑器）的 Vue 组件封装，功能更加强大和现代化，同样用于网页中的代码编辑场景。\n\n主要功能"},{"attributes":{"header":2},"insert":"\n"},{"insert":"\n1. 代码编辑与智能提示： Monaco Editor 提供强大的代码补全、语法检查、智能提示等功能，体验接近 VS Code。\n2. 多语言支持： 通过 `language` 属性设置代码语言（如 javascript、typescript 等）。\n3. 主题切换： 支持通过 `theme` 属性切换编辑器主题（如 vs、vs-dark、hc-black）。\n4. 高度自定义：支持通过 `options` 属性传入 Monaco Editor 的详细配置项。\n5. 全屏功能：支持进入/退出全屏模式，有对应的按钮和逻辑处理。\n6. 事件丰富：暴露了大量编辑器事件，如内容变化（change）、光标移动、键盘/鼠标事件、焦点事件等，方便开发者监听和扩展功能。\n7. 双向绑定：通过 `v-model`（即 `@change` 和 `value`）实现编辑内容的同步。\n8. 自适应布局：支持响应窗口大小变化，重新调整编辑器布局。\n\n使用方法"},{"attributes":{"header":1},"insert":"\n"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"<template>"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  <monaco-editor"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    v-model=\"code\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    :language=\"'javascript'\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    :theme=\"'vs-dark'\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    :height=\"400\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    :width=\"'100%'\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    :full-screen=\"false\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    :options=\"editorOptions\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    @change=\"onCodeChange\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    @focus=\"onFocus\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  />"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"</template>"},{"attributes":{"code-block":"vue"},"insert":"\n\n"},{"insert":"<script lang=\"ts\">"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"import MonacoEditor from './monaco-editor.vue'"},{"attributes":{"code-block":"vue"},"insert":"\n\n"},{"insert":"export default {"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  components: {"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    MonacoEditor"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  },"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  data() {"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    return {"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"      code: '// 输入你的代码',"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"      editorOptions: {"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"        fontSize: 14,"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"        wordWrap: 'on',"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"        minimap: { enabled: false }"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"      }"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    }"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  },"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  methods: {"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    onCodeChange(value) {"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"      console.log('编辑器内容改变:', value)"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    },"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    onFocus() {"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"      console.log('编辑器获得焦点')"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    }"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  }"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"}"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"</script>"},{"attributes":{"code-block":"vue"},"insert":"\n\n"},{"insert":"\n> 注意：\n> - Monaco Editor 依赖 `monaco-editor` 库以及相关 worker 文件，在生产环境需要正确配置这些静态资源路径（代码中使用了 `window.static_url`，需确保部署时配置正确）。\n> - 使用了 TypeScript 装饰器语法（如 `@Component`, `@Prop`），因此项目需要支持 Vue + TypeScript + `vue-property-decorator`。\n\n对比总结"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n| 特性 / 组件         | ace-editor.vue                      | monaco-editor.vue                                      |\n|--------------------|-------------------------------------|--------------------------------------------------------|\n| 编辑器库           | Ace Editor                          | Monaco Editor（VS Code 编辑器核心）                    |\n| 功能丰富度         | 基础功能齐全，适合轻量级使用         | 功能非常强大，智能提示、重构、诊断等，接近 IDE 体验     |\n| 语言/主题支持      | 支持常见语言和主题，配置较简单       | 支持几乎所有语言，主题丰富，配置灵活                   |\n| 自定义 & 扩展性    | 较简单，通过 props 控制             | 高度可定制，支持大量配置项和事件监听                     |\n| 双向绑定           | 通过 `value` 和 `input` 事件实现     | 通过 `v-model`（value + change 事件）实现               |\n| 全屏功能           | 通过 CSS 类切换，简单实现            | 有专门的全屏按钮和逻辑，支持真正的全屏 API              |\n| 事件系统           | 仅监听内容变化                      | 提供大量事件：内容变化、光标、焦点、键盘、鼠标等        |\n| 使用复杂度         | 较低，适合基础需求                  | 较高，依赖较多，配置灵活但需要更多集成工作              |\n| 适用场景           | 轻量级代码编辑，如简单配置、脚本输入 | 专业代码编辑，如在线 IDE、复杂配置、代码调试等          |\n\n---\n\n综合使用建议"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n- 如果你的项目 **只需要一个轻量、简单、快速集成** 的代码编辑器，并且对功能要求不高，可以选择 Ace Editor（ace-editor.vue）。\n- 如果你需要 **功能强大、体验接近 VS Code、支持智能提示和复杂编辑功能**，比如构建一个在线代码编辑平台或 IDE，那么 Monaco Editor（monaco-editor.vue） 是更合适的选择，尽管它的集成成本稍高。\n\n如你还需要将这些编辑器进一步封装为支持 v-model、支持更多自定义插件、或者集成到表单系统中的方案，也可以继续深入设计。\n"}],"extra":{"updator":"Austin","update_at":"2026-01-21 14:52:04"}}