{"ops":[{"insert":"这是一个主要用于显示位置信息并提供复制功能的组件。\n\n基本用途"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n该组件名为 `PositionLink`，是一个 UI 组件，通常用于在页面中展示某个“位置”相关的文本信息（比如当前页面路径、某个模块位置描述等），并且允许用户通过点击该区域来复制关联的内容（默认是当前页面链接，也可自定义）。它结合了样式和交互逻辑，主要应用于需要展示位置信息并支持快速复制功能的场景，如监控系统、管理后台、运维平台等。\n\n主要功能"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n1. 展示位置文本"},{"attributes":{"header":2},"insert":"\n"},{"insert":"- 通过 `positionText` 属性传入要展示的位置描述文字，比如“首页 > 监控 > 服务状态”。\n- 该文本会被包裹在一个具有省略号溢出处理的 span 中（防止文字过长导致布局混乱）。\n\n2. 点击复制功能"},{"attributes":{"header":2},"insert":"\n"},{"insert":"- 默认情况下，用户点击这个组件区域时，会触发复制操作，复制的内容是：\n  - 如果传入了 `copyContent` 属性，则复制该内容；\n  - 如果未传入 `copyContent`，则默认复制当前页面的完整 URL（`location.href`）。\n- 复制成功或失败时，会通过 `bkMessage`（应该是蓝鲸前端组件库中的消息提示组件）给用户相应的提示，如“复制成功”或错误信息。\n\n3. 提示信息（Tooltip）"},{"attributes":{"header":2},"insert":"\n"},{"insert":"- 当鼠标悬停在组件上时，会通过 `v-bk-tooltips`（可能是基于 Vue 的 Tooltip 指令，来自蓝鲸或其他 UI 库）展示一个提示文本，默认是“复制链接”，也可以通过 `tipsText` 属性自定义。\n- 提示框延迟 200ms 显示，放置在右侧，且不会超出窗口边界。\n\n4. 样式与交互"},{"attributes":{"header":2},"insert":"\n"},{"insert":"- 整个组件被包裹在一个具有特定样式的 div（class 为 `position-bar`）中，包含定位图标、位置文本和复制图标。\n- 样式文件 `position-link.scss` 定义了组件的视觉效果，包括背景色、字体颜色、圆角、边距、悬浮状态、只读状态等。\n- 支持不同的状态类，比如 `readonly`（只读，不可点击）、`display`（仅展示，无交互）。\n\n5. 防抖处理"},{"attributes":{"header":2},"insert":"\n"},{"insert":"- 点击复制操作使用了 `@Debounce(200)` 装饰器，避免用户快速多次点击造成重复触发复制逻辑，提升性能和体验。\n\n使用方法"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n1. 导入组件"},{"attributes":{"header":2},"insert":"\n"},{"insert":"在你的 Vue 组件中引入并注册 `PositionLink` 组件：\n"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"import PositionLink from '@/path/to/position-link';"},{"attributes":{"code-block":"typescript"},"insert":"\n\n"},{"insert":"并在 components 中注册（或直接全局注册）。\n\n2. 使用组件"},{"attributes":{"header":2},"insert":"\n"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"<PositionLink"},{"attributes":{"code-block":"html"},"insert":"\n"},{"insert":"  positionText=\"首页 > 服务监控 > 实例详情\""},{"attributes":{"code-block":"html"},"insert":"\n"},{"insert":"  copyContent=\"https://example.com/service/instance/123\""},{"attributes":{"code-block":"html"},"insert":"\n"},{"insert":"  tipsText=\"点击复制实例链接\""},{"attributes":{"code-block":"html"},"insert":"\n"},{"insert":"/>"},{"attributes":{"code-block":"html"},"insert":"\n\n"},{"insert":"\nProps参数说明"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n| 参数名       | 类型   | 默认值                       | 说明 |\n|--------------|--------|------------------------------|------|\n| positionText | String | 必填                         | 要展示的位置描述文本，如导航路径 |\n| copyContent  | String | ''（默认是当前页面URL）     | 点击时实际复制的内容，如果不传则默认复制 `location.href` |\n| icon         | String | 'icon-copy-link'             | 复制按钮的图标类名，一般用于定制图标样式 |\n| tipsText     | String | '复制链接'（i18n 国际化文本）| 鼠标悬浮时显示的提示文本 |\n\n> 注意：`positionText` 是必传参数，其他参数都有合理的默认值，可根据需要进行覆盖。\n\n总结"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n这是一个用于展示位置信息并支持一键复制相关内容（默认当前页面链接）的 Vue 组件。它具有良好的交互反馈、防抖优化、国际化提示、自定义扩展能力，适用于各类后台管理系统、运维平台、监控系统等需要展示路径或链接并支持快速复制的场景。使用简单，只需传入位置文本和可选的复制内容，即可快速集成到项目中，提升用户操作效率。\n"}],"extra":{"updator":"Austin","update_at":"2026-01-21 17:07:51"}}