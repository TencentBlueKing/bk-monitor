{"ops":[{"insert":"基本用途"},{"attributes":{"header":1},"insert":"\n"},{"insert":"这是一个可折叠/展开的内容容器组件，主要用于在有限空间内展示可能较长的内容，用户可以通过交互来控制内容的显示与隐藏。\n\n主要功能"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n1. 折叠/展开功能"},{"attributes":{"header":2},"insert":"\n"},{"insert":"   - 通过 `expand` 属性控制初始状态（展开或折叠）\n   - 点击关闭按钮可以切换展开/折叠状态\n   - 支持平滑的动画过渡效果\n\n2. 高度控制"},{"attributes":{"header":2},"insert":"\n"},{"insert":"   - 自动计算内容高度\n   - 支持设置默认高度 (`defaultHeight`) 和最大高度 (`maxHeight`)\n   - 当内容超出默认高度时，会进行折叠\n\n3. 溢出检测"},{"attributes":{"header":2},"insert":"\n"},{"insert":"   - 自动检测内容是否超出指定高度\n   - 通过 `overflow` 事件通知父组件\n\n4. 响应式设计"},{"attributes":{"header":2},"insert":"\n"},{"insert":"   - 监听内容尺寸变化，自动调整高度\n   - 使用防抖处理窗口大小变化\n\n5. 自定义渲染"},{"attributes":{"header":2},"insert":"\n"},{"insert":"   - 可以控制是否渲染内容 (`renderContent`)\n   - 可以控制是否显示关闭按钮 (`needCloseButton`)\n   - 可以控制是否启用动画 (`renderAnimation`)\n\n使用方法"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"import Collapse from './collapse';"},{"attributes":{"code-block":"typescript"},"insert":"\n\n"},{"insert":"\n基本用法"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"<Collapse "},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  :expand=\"true\" "},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  :default-height=\"100\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  :max-height=\"300\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  :need-close-button=\"true\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  :render-animation=\"true\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  :render-content=\"true\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  @expandChange=\"handleExpandChange\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  @overflow=\"handleOverflow\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":">"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  <!-- 这里放置要折叠/展开的内容 -->"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  <div>你的内容...</div>"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"</Collapse>"},{"attributes":{"code-block":"vue"},"insert":"\n\n"},{"insert":"\n属性说明"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n| 属性 | 类型 | 默认值 | 说明 |\n|------|------|--------|------|\n| `expand` | Boolean | false | 初始是否展开 |\n| `defaultHeight` | Number | 0 | 折叠时的默认高度 |\n| `maxHeight` | Number | - | 最大允许高度 |\n| `needCloseButton` | Boolean | true | 是否显示关闭按钮 |\n| `renderAnimation` | Boolean | true | 是否启用动画效果 |\n| `renderContent` | Boolean | true | 是否始终渲染内容（false时内容会在折叠时被移除） |\n\n事件说明"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n| 事件 | 参数 | 说明 |\n|------|------|------|\n| `expandChange` | boolean | 折叠状态改变时触发，参数为新的展开状态 |\n| `overflow` | boolean | 检测到内容溢出时触发，参数为是否溢出 |\n\n插槽"},{"attributes":{"header":1},"insert":"\n"},{"insert":"- 默认插槽：放置要折叠/展开的内容\n\n技术实现要点"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n1. **Vue + TypeScript**：使用 Vue 的类组件语法和 TypeScript 类型系统\n2. **SCSS 样式**：包含动画、过渡效果和响应式交互样式\n3. **高度计算**：动态计算内容高度并应用到容器\n4. **事件监听**：监听过渡结束事件和内容尺寸变化\n5. **装饰器**：使用 `vue-property-decorator` 提供的装饰器简化 Vue 组件编写\n6. **防抖处理**：对窗口大小变化事件进行防抖处理，优化性能\n\n这个组件适用于需要在有限空间内展示可变长度内容的场景，如详情信息折叠、日志内容折叠等。\n"}],"extra":{"updator":"Austin","update_at":"2026-01-21 11:33:53"}}