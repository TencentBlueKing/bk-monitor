{"ops":[{"insert":"这是一个基于 Vue.js 的 AI 助手组件系统，主要用于在监控平台中集成 AI 功能，特别是与一个名为 \"AI 小鲸\" 的智能助手交互。下面是对代码的详细分析：\n\n基本用途"},{"attributes":{"header":1},"insert":"\n"},{"insert":"该代码实现了一个完整的 AI 助手功能模块，包含：\n1. AI 小鲸 - 一个可拖拽的机器人图标，提供智能提示和快捷操作入口\n2. AI 蓝鲸 - 一个集成了蓝鲸 AI 能力的对话组件，用于处理各种 AI 辅助任务\n3. 类型定义 - 定义了 AI 快捷操作的各种类型和配置\n\n主要功能"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n1. AI 小鲸 (ai-whale)"},{"attributes":{"header":2},"insert":"\n"},{"insert":"- 可视化机器人: 一个可拖拽的圆形机器人图标，有蓝色、红色、黄色三种状态\n- 智能提示: 根据监控数据提供智能提示，如告警数量、异常主机等\n- 快捷操作: 提供各种 AI 辅助功能的快速入口\n- 可拖拽定位: 用户可以拖动机器人到屏幕任意位置\n- 状态感知: 根据不同的监控状态显示不同颜色和内容\n- 功能入口: 包括事件中心、性能查看、AI设置、策略配置等\n\n2. AI 蓝鲸 (ai-blueking)"},{"attributes":{"header":2},"insert":"\n"},{"insert":"- 对话界面: 集成蓝鲸 AI 能力的聊天对话组件\n- 多种快捷功能: \n  - 问问小鲸（通用问答）\n  - PromQL助手（查询语言优化）\n  - Trace助手（链路追踪分析）\n  - Profiling助手（性能分析）\n  - 生成仪表盘（自动化报表创建）\n  - Tracing分析（调用链分析）\n- API集成: 通过 `/ai_whale/chat` 接口与后端 AI 服务通信\n- 会话管理: 支持临时会话和持久会话\n- 快捷键过滤: 智能判断何时显示哪些快捷功能\n\n3. 类型系统 (types)"},{"attributes":{"header":1},"insert":"\n"},{"insert":"- 快捷操作配置: 定义了各种 AI 快捷功能的参数配置\n- 组件配置: 定义了表单组件的类型和行为\n- ID枚举: 统一管理各种快捷功能的唯一标识符\n\n使用方法"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n1. 在项目中引入"},{"attributes":{"header":2},"insert":"\n"},{"insert":"将这四个文件放在 Vue 项目的适当位置，通常是在一个专门的 AI 功能模块中。\n\n2. 组件使用"},{"attributes":{"header":2},"insert":"\n"},{"insert":"- AiWhale: 主要的入口组件，渲染 AI 小鲸机器人和相关的 UI\n\n"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"  <AiWhale :enableAiAssistant=\"true\" />"},{"attributes":{"code-block":"vue"},"insert":"\n\n"},{"insert":"  \n- AiBluekingWrapper: AI 对话组件的包装器，通常不需要直接使用\n\n3. 功能触发"},{"attributes":{"header":2},"insert":"\n"},{"insert":"- 用户可以通过点击或悬停在 AI 小鲸图标上查看智能提示\n- 点击相应的快捷功能入口来启动 AI 辅助功能\n- 通过对话框与 AI 进行交互，获取帮助和建议\n\n4. 自定义配置"},{"attributes":{"header":2},"insert":"\n"},{"insert":"- 可以通过修改 `AI_BLUEKING_SHORTCUTS` 来自定义快捷功能\n- 可以通过 `aiWhaleStore` 来控制 AI 功能的显示状态\n- 可以根据需要调整样式和行为\n"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n这个系统主要用于监控平台，为用户提供智能化的运维辅助功能，通过 AI 技术帮助用户更快地分析和解决问题。\n"}],"extra":{"updator":"Austin","update_at":"2026-01-21 10:42:19"}}