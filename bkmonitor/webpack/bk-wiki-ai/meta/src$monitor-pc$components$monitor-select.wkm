{"ops":[{"insert":"基本用途"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n这是一个自定义下拉选择组件，它封装了蓝鲸（BlueKing）框架中的 `bk-select` 组件，提供了更灵活的定制能力和事件处理机制，主要用于在监控系统或其他业务场景中实现下拉选择功能。\n\n主要功能"},{"attributes":{"header":1},"insert":"\n"},{"insert":"\n1. 下拉选择功能"},{"attributes":{"header":2},"insert":"\n"},{"insert":"\t提供标准的选择框功能，用户可以点击后展开选项列表进行选择。\n2. 插槽支持"},{"attributes":{"header":2},"insert":"\n"},{"insert":"   - 默认插槽：用于自定义选择框按钮的显示内容（`btn-content`）。\n   - 具名插槽 `item`：允许对每个下拉选项的内容进行自定义渲染。\n3. 属性配置"},{"attributes":{"header":2},"insert":"\n"},{"insert":"   - `list`：下拉选项的数据列表，每个选项通常包含 `id` 和 `name` 字段，支持额外的 `disabled` 属性。\n   - `disabled`：控制整个选择组件是否禁用。\n   - `popoverMinWidth`：设置下拉菜单的最小宽度。\n   - `extPopoverCls`：为下拉菜单添加额外的 CSS 类名以实现样式定制。\n4. 事件响应"},{"attributes":{"header":2},"insert":"\n"},{"insert":"   - `valueChange` / `change`：当选择的值发生变化时触发，传递新值。\n   - `select`：选择操作发生时触发，传递新旧值信息。\n   - `listChange`：当下拉选项列表变化时触发，传递选项列表的深拷贝。\n   - `toggle`：当下拉菜单展开或收起状态改变时触发。\n5. 内部状态管理"},{"attributes":{"header":2},"insert":"\n"},{"insert":"\t通过 `localValue` 和 `localList` 分别管理当前选中值和选项列表的本地副本，并与父组件保持同步。\n\n使用方法"},{"attributes":{"header":1},"insert":"\n"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"   <monitor-select"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"     :list=\"options\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"     :disabled=\"false\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"     :popover-min-width=\"120\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"     :ext-popover-cls=\"'custom-class'\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"     v-model=\"selectedValue\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"     @value-change=\"handleChange\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"     @select=\"handleSelect\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"   >"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"     <!-- 自定义按钮内容（可选） -->"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"     <span>选择项</span>"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"     "},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"     <!-- 自定义每个选项的内容（可选） -->"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"     <template #item=\"{ option }\">"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"       <span>{{ option.name }}</span>"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"     </template>"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"   </monitor-select>"},{"attributes":{"code-block":"vue"},"insert":"\n\n"},{"insert":"   \n属性说明"},{"attributes":{"header":1},"insert":"\n"},{"insert":"   - `list`（Array，必填）：下拉选项的数组，每个对象一般包含 `id` 和 `name`，例如：\n\n"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"     options: ["},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"       { id: 1, name: '选项一' },"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"       { id: 2, name: '选项二', disabled: true },"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"       { id: 3, name: '选项三' }"},{"attributes":{"code-block":"javascript"},"insert":"\n"},{"insert":"     ]"},{"attributes":{"code-block":"javascript"},"insert":"\n\n"},{"insert":"   - `disabled`（Boolean，可选）：是否禁用整个选择组件，默认为 `false`。\n   - `popoverMinWidth`（Number，可选）：下拉菜单的最小宽度，默认为 `100`。\n   - `extPopoverCls`（String，可选）：为下拉菜单添加额外的 CSS 类名，用于样式定制，默认为空字符串。\n   - `v-model`（Number | String，必填）：双向绑定的选中值，通常绑定到父组件的某个数据属性上。\n\n事件处理"},{"attributes":{"header":1},"insert":"\n"},{"insert":"   - `@value-change` 或 `@change`：当用户选择不同的选项时触发，可以在此处理选中值的变化逻辑。\n   - `@select`：当选择操作发生时触发，可以获取新旧值进行比较或其他处理。\n   - `@list-change`：当下拉选项列表发生变化时触发，可以用于监听选项列表的更新。\n   - `@toggle`：当下拉菜单的展开或收起状态改变时触发，可以用于相关 UI 状态的调整。\n\n自定义选项内容"},{"attributes":{"header":1},"insert":"\n"},{"insert":"通过具名插槽 `item`，您可以为每个下拉选项定制显示内容。例如：\n"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"<monitor-select"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  :list=\"options\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  v-model=\"selectedValue\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":">"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  <template #item=\"{ option }\">"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    <div>"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"      <strong>{{ option.name }}</strong>"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"      <span style=\"color: gray;\">({{ option.id }})</span>"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"    </div>"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  </template>"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"</monitor-select>"},{"attributes":{"code-block":"vue"},"insert":"\n\n"},{"insert":"\n自定义按钮内容"},{"attributes":{"header":1},"insert":"\n"},{"insert":"通过默认插槽，您可以自定义选择框按钮的显示内容。例如：\n"},{"attributes":{"code-block":"plain"},"insert":"\n"},{"insert":"<monitor-select"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  :list=\"options\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  v-model=\"selectedValue\""},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":">"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"  <span>点击选择</span>"},{"attributes":{"code-block":"vue"},"insert":"\n"},{"insert":"</monitor-select>"},{"attributes":{"code-block":"vue"},"insert":"\n\n"},{"insert":"\n注意事项"},{"attributes":{"header":1},"insert":"\n"},{"insert":"1. **依赖关系**：该组件依赖于蓝鲸框架的 `bk-select` 和 `bk-option` 组件，确保在使用前已正确引入和配置相关依赖。\n2. **样式定制**：组件内部包含了一些 scoped 和全局的 SCSS 样式，若需要深度定制样式，可能需要调整相应的 CSS 类。\n3. **事件命名**：注意事件名称的大小写，如 `valueChange` 与 `value-change` 可能在不同上下文中有所区别，确保在父组件中正确监听对应的事件。\n4. **异步更新**：组件内部使用了 `nextTick` 来确保值的异步更新，确保在复杂场景下数据的一致性。\n"}],"extra":{"updator":"Austin","update_at":"2026-01-21 16:40:08"}}