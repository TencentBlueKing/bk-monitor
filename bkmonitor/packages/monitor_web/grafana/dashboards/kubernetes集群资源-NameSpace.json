{
  "annotations":{
    "list":[
      {
        "builtIn":1,
        "datasource":{
          "type":"datasource",
          "uid":"grafana"
        },
        "enable":true,
        "hide":true,
        "iconColor":"rgba(0, 211, 255, 1)",
        "name":"Annotations & Alerts",
        "target":{
          "limit":100,
          "matchAny":false,
          "tags":[

          ],
          "type":"dashboard"
        },
        "type":"dashboard"
      }
    ]
  },
  "editable":true,
  "fiscalYearStartMonth":0,
  "graphTooltip":0,
  "links":[

  ],
  "liveNow":false,
  "panels":[
    {
      "collapsed":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "gridPos":{
        "h":1,
        "w":24,
        "x":0,
        "y":0
      },
      "id":20,
      "panels":[

      ],
      "targets":[
        {
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "refId":"A"
        }
      ],
      "title":"namespace概览",
      "type":"row"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "description":"CPU Requests Commitment",
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "mappings":[
            {
              "options":{
                "match":"null",
                "result":{
                  "text":"N/A"
                }
              },
              "type":"special"
            }
          ],
          "max":1,
          "min":0,
          "thresholds":{
            "mode":"percentage",
            "steps":[
              {
                "color":"#299c46",
                "value":null
              },
              {
                "color":"rgba(237, 129, 40, 0.89)",
                "value":70
              },
              {
                "color":"#d44a3a",
                "value":80
              }
            ]
          },
          "unit":"percentunit"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":3,
        "w":5,
        "x":0,
        "y":1
      },
      "id":2,
      "links":[

      ],
      "maxDataPoints":100,
      "options":{
        "colorMode":"none",
        "graphMode":"none",
        "justifyMode":"auto",
        "orientation":"horizontal",
        "reduceOptions":{
          "calcs":[
            "mean"
          ],
          "fields":"",
          "values":false
        },
        "text":{

        },
        "textMode":"auto"
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"",
              "expression":"a /  b",
              "functions":[

              ]
            }
          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"5m"
                    }
                  ]
                }
              ],
              "group_by":[

              ],
              "interval":150,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            },
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"kube_pod_container_resource_requests_cpu_cores",
              "refId":"b",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum(rate(container_cpu_usage_seconds_total{bcs_cluster_id=\"$cluster_id\",namespace=\"$namespace\"}[5m])) / on() group_right() sum(kube_pod_container_resource_requests_cpu_cores{bcs_cluster_id=\"$cluster_id\",namespace=\"$namespace\"})",
          "step":"",
          "type":"range"
        }
      ],
      "title":"CPU分配率(Requests)",
      "type":"stat"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "description":"CPU Limits Commitment",
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "mappings":[
            {
              "options":{
                "match":"null",
                "result":{
                  "text":"N/A"
                }
              },
              "type":"special"
            }
          ],
          "max":1,
          "min":0,
          "thresholds":{
            "mode":"percentage",
            "steps":[
              {
                "color":"#299c46",
                "value":null
              },
              {
                "color":"rgba(237, 129, 40, 0.89)",
                "value":70
              },
              {
                "color":"#d44a3a",
                "value":80
              }
            ]
          },
          "unit":"percentunit"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":3,
        "w":5,
        "x":5,
        "y":1
      },
      "id":35,
      "links":[

      ],
      "maxDataPoints":100,
      "options":{
        "colorMode":"none",
        "graphMode":"none",
        "justifyMode":"auto",
        "orientation":"horizontal",
        "reduceOptions":{
          "calcs":[
            "mean"
          ],
          "fields":"",
          "values":false
        },
        "text":{

        },
        "textMode":"auto"
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"",
              "expression":"a /  b",
              "functions":[

              ]
            }
          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"5m"
                    }
                  ]
                }
              ],
              "group_by":[

              ],
              "interval":150,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            },
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"kube_pod_container_resource_limits_cpu_cores",
              "refId":"b",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum(rate(container_cpu_usage_seconds_total{bcs_cluster_id=\"$cluster_id\",namespace=\"$namespace\"}[5m])) / on() group_right() sum(kube_pod_container_resource_limits_cpu_cores{bcs_cluster_id=\"$cluster_id\",namespace=\"$namespace\"})",
          "step":"",
          "type":"range"
        }
      ],
      "title":"CPU分配率(limits)",
      "type":"stat"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "description":"Memory Requests Commitment",
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "mappings":[
            {
              "options":{
                "match":"null",
                "result":{
                  "text":"N/A"
                }
              },
              "type":"special"
            }
          ],
          "max":1,
          "min":0,
          "thresholds":{
            "mode":"percentage",
            "steps":[
              {
                "color":"#299c46",
                "value":null
              },
              {
                "color":"rgba(237, 129, 40, 0.89)",
                "value":70
              },
              {
                "color":"#d44a3a",
                "value":80
              }
            ]
          },
          "unit":"percentunit"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":3,
        "w":5,
        "x":10,
        "y":1
      },
      "id":5,
      "links":[

      ],
      "maxDataPoints":100,
      "options":{
        "colorMode":"none",
        "graphMode":"none",
        "justifyMode":"auto",
        "orientation":"horizontal",
        "reduceOptions":{
          "calcs":[
            "mean"
          ],
          "fields":"",
          "values":false
        },
        "text":{

        },
        "textMode":"auto"
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"",
              "expression":"a /  b",
              "functions":[

              ]
            }
          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"container_memory_working_set_bytes",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"container",
                  "method":"neq",
                  "value":[
                    ""
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            },
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"kube_pod_container_resource_requests_memory_bytes",
              "refId":"b",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum(container_memory_working_set_bytes{bcs_cluster_id=\"$cluster_id\",container!=\"\",namespace=\"$namespace\"}) / on() group_right() sum(kube_pod_container_resource_requests_memory_bytes{namespace=\"$namespace\"})",
          "step":"",
          "type":"range"
        }
      ],
      "title":"内存分配率(Requests)",
      "type":"stat"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "description":"Memory Limits Commitment",
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "mappings":[
            {
              "options":{
                "match":"null",
                "result":{
                  "text":"N/A"
                }
              },
              "type":"special"
            }
          ],
          "max":1,
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"#299c46",
                "value":null
              },
              {
                "color":"rgba(237, 129, 40, 0.89)",
                "value":70
              },
              {
                "color":"#d44a3a",
                "value":80
              }
            ]
          },
          "unit":"percentunit"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":3,
        "w":5,
        "x":15,
        "y":1
      },
      "id":6,
      "links":[

      ],
      "maxDataPoints":100,
      "options":{
        "colorMode":"none",
        "graphMode":"none",
        "justifyMode":"auto",
        "orientation":"horizontal",
        "reduceOptions":{
          "calcs":[
            "mean"
          ],
          "fields":"",
          "values":false
        },
        "text":{

        },
        "textMode":"auto"
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"",
              "expression":"a /  b",
              "functions":[

              ]
            }
          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"container_memory_working_set_bytes",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"container",
                  "method":"neq",
                  "value":[
                    ""
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            },
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"kube_pod_container_resource_limits_memory_bytes",
              "refId":"b",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum(container_memory_working_set_bytes{bcs_cluster_id=\"$cluster_id\",container!=\"\",namespace=\"$namespace\"}) / on() group_right() sum(kube_pod_container_resource_limits_memory_bytes{bcs_cluster_id=\"$cluster_id\",namespace=\"$namespace\"})",
          "step":"",
          "type":"range"
        }
      ],
      "title":"内存分配率(Limits)",
      "type":"stat"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "description":"container_memory_working_set_bytes",
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "mappings":[

          ],
          "max":1,
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"decbytes"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":3,
        "w":4,
        "x":20,
        "y":1
      },
      "id":4,
      "links":[

      ],
      "maxDataPoints":100,
      "options":{
        "colorMode":"none",
        "graphMode":"none",
        "justifyMode":"auto",
        "orientation":"horizontal",
        "reduceOptions":{
          "calcs":[
            "mean"
          ],
          "fields":"",
          "values":false
        },
        "text":{

        },
        "textMode":"auto"
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"container_memory_working_set_bytes",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"container",
                  "method":"neq",
                  "value":[
                    ""
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum(container_memory_working_set_bytes{bcs_cluster_id=\"$cluster_id\",container!=\"\",namespace=\"$namespace\"}) / on() group_right() sum(kube_pod_container_resource_requests_memory_bytes{namespace=\"$namespace\"})",
          "step":"",
          "type":"range"
        }
      ],
      "title":"内存使用量",
      "type":"stat"
    },
    {
      "collapsed":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "gridPos":{
        "h":1,
        "w":24,
        "x":0,
        "y":4
      },
      "id":21,
      "panels":[

      ],
      "targets":[
        {
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "refId":"A"
        }
      ],
      "title":"CPU使用量/pod",
      "type":"row"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "description":"含义：每个CPU内核上的累积占用时间 (单位：秒)，使用rate函数可计算出CPU每分钟使用量\n单位：s",
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"continuous-RdYlGr"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":100,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":0,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"normal"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "links":[

          ],
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"s"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":24,
        "x":0,
        "y":5
      },
      "id":7,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"table",
          "placement":"right",
          "showLegend":true,
          "sortBy":"Last *",
          "sortDesc":false
        },
        "tooltip":{
          "mode":"multi",
          "sort":"desc"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"$tag_pod",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"5m"
                    }
                  ]
                },
                {
                  "id":"top",
                  "params":[
                    {
                      "id":"n",
                      "value":"10"
                    }
                  ]
                }
              ],
              "group_by":[
                "pod"
              ],
              "interval":150,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"job",
                  "method":"eq",
                  "value":[
                    "kubelet"
                  ]
                },
                {
                  "condition":"and",
                  "key":"image",
                  "method":"neq",
                  "value":[
                    ""
                  ]
                },
                {
                  "condition":"and",
                  "key":"container_name",
                  "method":"neq",
                  "value":[
                    "POD"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"",
          "step":"",
          "type":"range"
        }
      ],
      "title":"CPU使用量top10（单位秒）",
      "type":"timeseries"
    },
    {
      "collapsed":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "gridPos":{
        "h":1,
        "w":24,
        "x":0,
        "y":12
      },
      "id":22,
      "panels":[

      ],
      "targets":[
        {
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "refId":"A"
        }
      ],
      "title":"CPU使用率top20/pod",
      "type":"row"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "custom":{
            "align":"auto",
            "displayMode":"auto",
            "inspect":false
          },
          "decimals":2,
          "displayName":"",
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"short"
        },
        "overrides":[
          {
            "matcher":{
              "id":"byName",
              "options":"pod 1"
            },
            "properties":[
              {
                "id":"displayName",
                "value":"pod名称"
              }
            ]
          },
          {
            "matcher":{
              "id":"byName",
              "options":"Value 1"
            },
            "properties":[
              {
                "id":"displayName",
                "value":"CPU Requests %"
              },
              {
                "id":"custom.displayMode",
                "value":"color-text"
              }
            ]
          },
          {
            "matcher":{
              "id":"byName",
              "options":"Value 2"
            },
            "properties":[
              {
                "id":"displayName",
                "value":"CPU Limits %"
              },
              {
                "id":"custom.displayMode",
                "value":"color-text"
              }
            ]
          },
          {
            "matcher":{
              "id":"byName",
              "options":"pod 2"
            },
            "properties":[
              {
                "id":"displayName",
                "value":"pod名称"
              },
              {
                "id":"custom.width",
                "value":290
              },
              {
                "id":"custom.hidden",
                "value":true
              }
            ]
          },
          {
            "matcher":{
              "id":"byName",
              "options":"Time"
            },
            "properties":[
              {
                "id":"custom.hidden",
                "value":true
              }
            ]
          }
        ]
      },
      "gridPos":{
        "h":13,
        "w":24,
        "x":0,
        "y":13
      },
      "id":8,
      "links":[

      ],
      "options":{
        "footer":{
          "fields":"",
          "reducer":[
            "sum"
          ],
          "show":false
        },
        "frameIndex":1,
        "showHeader":true,
        "sortBy":[

        ]
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"CPU Requests %",
              "expression":"b/c*100",
              "functions":[
                {
                  "id":"topk",
                  "params":[
                    {
                      "id":"k",
                      "value":"20"
                    }
                  ]
                }
              ]
            }
          ],
          "format":"table",
          "hide":false,
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[
                "pod"
              ],
              "interval":"auto",
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"b",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            },
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[
                "pod"
              ],
              "interval":"auto",
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"kube_pod_container_resource_requests_cpu_cores",
              "refId":"c",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"",
          "step":"",
          "type":"instant"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"CPU Limits %",
              "expression":"b/a*100",
              "functions":[
                {
                  "id":"topk",
                  "params":[
                    {
                      "id":"k",
                      "value":"20"
                    }
                  ]
                }
              ]
            }
          ],
          "format":"table",
          "hide":false,
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[
                "pod"
              ],
              "interval":"auto",
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"b",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            },
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[
                "pod"
              ],
              "interval":"auto",
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"kube_pod_container_resource_limits_cpu_cores",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"B",
          "source":"",
          "step":"",
          "type":"instant"
        }
      ],
      "title":"CPU使用率/pod ",
      "transformations":[
        {
          "id":"concatenate",
          "options":{
            "frameNameLabel":"frame",
            "frameNameMode":"field"
          }
        }
      ],
      "type":"table"
    },
    {
      "collapsed":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "gridPos":{
        "h":1,
        "w":24,
        "x":0,
        "y":26
      },
      "id":23,
      "panels":[

      ],
      "targets":[
        {
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "refId":"A"
        }
      ],
      "title":"内存使用量top20/pod",
      "type":"row"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "description":"",
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"continuous-RdYlGr"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":100,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":0,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"normal"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "links":[

          ],
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"bytes"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":24,
        "x":0,
        "y":27
      },
      "id":9,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"table",
          "placement":"right",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"desc"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"$tag_pod",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"top",
                  "params":[
                    {
                      "id":"n",
                      "value":"20"
                    }
                  ]
                }
              ],
              "group_by":[
                "pod"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"container_memory_rss",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"container_name",
                  "method":"neq",
                  "value":[
                    ""
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"",
          "step":"",
          "type":"range"
        }
      ],
      "title":"内存使用量(container_memory_rss)/pod",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "description":"",
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":100,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":0,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"normal"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "links":[

          ],
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              }
            ]
          },
          "unit":"bytes"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":24,
        "x":0,
        "y":34
      },
      "id":34,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"table",
          "placement":"right",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"desc"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"$tag_pod",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"top",
                  "params":[
                    {
                      "id":"n",
                      "value":"20"
                    }
                  ]
                }
              ],
              "group_by":[
                "pod"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"container_memory_working_set_bytes",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"container_name",
                  "method":"neq",
                  "value":[
                    ""
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"",
          "step":"",
          "type":"range"
        }
      ],
      "title":"内存使用量(container_memory_working_set_bytes)/pod",
      "type":"timeseries"
    },
    {
      "collapsed":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "gridPos":{
        "h":1,
        "w":24,
        "x":0,
        "y":41
      },
      "id":24,
      "panels":[

      ],
      "targets":[
        {
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "refId":"A"
        }
      ],
      "title":"内存Requests&limits百分比 top 20 pod",
      "type":"row"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "description":"容器的实际内存使用%container_memory_working_set_bytes",
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "custom":{
            "align":"auto",
            "displayMode":"auto",
            "inspect":false
          },
          "decimals":2,
          "displayName":"",
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"short"
        },
        "overrides":[
          {
            "matcher":{
              "id":"byName",
              "options":"Time"
            },
            "properties":[
              {
                "id":"custom.hidden",
                "value":true
              }
            ]
          },
          {
            "matcher":{
              "id":"byName",
              "options":"Value 1"
            },
            "properties":[
              {
                "id":"displayName",
                "value":"内存使用量Requests %"
              },
              {
                "id":"custom.align",
                "value":"left"
              },
              {
                "id":"custom.displayMode",
                "value":"color-text"
              },
              {
                "id":"thresholds",
                "value":{
                  "mode":"absolute",
                  "steps":[
                    {
                      "color":"green"
                    }
                  ]
                }
              },
              {
                "id":"unit",
                "value":"percent"
              }
            ]
          },
          {
            "matcher":{
              "id":"byName",
              "options":"Value 2"
            },
            "properties":[
              {
                "id":"displayName",
                "value":"内存使用量Limits %"
              },
              {
                "id":"decimals",
                "value":2
              },
              {
                "id":"custom.align"
              },
              {
                "id":"custom.displayMode",
                "value":"color-text"
              },
              {
                "id":"thresholds",
                "value":{
                  "mode":"absolute",
                  "steps":[
                    {
                      "color":"green"
                    }
                  ]
                }
              },
              {
                "id":"unit",
                "value":"percent"
              }
            ]
          },
          {
            "matcher":{
              "id":"byName",
              "options":"pod 1"
            },
            "properties":[
              {
                "id":"displayName",
                "value":"pod名称"
              }
            ]
          },
          {
            "matcher":{
              "id":"byName",
              "options":"pod 2"
            },
            "properties":[
              {
                "id":"displayName",
                "value":"pod名称"
              }
            ]
          },
          {
            "matcher":{
              "id":"byName",
              "options":"namespace 4"
            },
            "properties":[
              {
                "id":"custom.hidden",
                "value":true
              }
            ]
          }
        ]
      },
      "gridPos":{
        "h":7,
        "w":24,
        "x":0,
        "y":42
      },
      "id":10,
      "links":[

      ],
      "options":{
        "footer":{
          "fields":"",
          "reducer":[
            "sum"
          ],
          "show":false
        },
        "showHeader":true,
        "sortBy":[
          {
            "desc":true,
            "displayName":"内存使用率(Limits)"
          }
        ]
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"",
              "expression":"a /  b * 100",
              "functions":[

              ]
            }
          ],
          "format":"table",
          "hide":false,
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[
                "pod"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"container_memory_working_set_bytes",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"container",
                  "method":"neq",
                  "value":[
                    ""
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            },
            {
              "alias":"内存使用量Requests %",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"topk",
                  "params":[
                    {
                      "id":"k",
                      "value":"20"
                    }
                  ]
                }
              ],
              "group_by":[
                "pod"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"kube_pod_container_resource_requests_memory_bytes",
              "refId":"b",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum by(namespace) (container_memory_working_set_bytes{bcs_cluster_id=\"$cluster_id\",container!=\"\"}) / on(namespace) group_right() sum by(namespace) (kube_pod_container_resource_requests_memory_bytes{bcs_cluster_id=\"$cluster_id\"}) * 100",
          "step":"",
          "type":"instant"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"",
              "expression":"a /  b * 100",
              "functions":[

              ]
            }
          ],
          "format":"table",
          "hide":false,
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"内存 limits",
          "query_configs":[
            {
              "alias":"内存 limits",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[
                "pod"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"container_memory_working_set_bytes",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"container",
                  "method":"neq",
                  "value":[
                    ""
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            },
            {
              "alias":"内存使用量Limits %",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"topk",
                  "params":[
                    {
                      "id":"k",
                      "value":"20"
                    }
                  ]
                }
              ],
              "group_by":[
                "pod"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"kube_pod_container_resource_limits_memory_bytes",
              "refId":"b",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bcs_cluster_id",
                  "method":"eq",
                  "value":[
                    "$cluster_id"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"B",
          "source":"sum by(namespace) (container_memory_working_set_bytes{bcs_cluster_id=\"$cluster_id\",container!=\"\"}) / on(namespace) group_right() sum by(namespace) (kube_pod_container_resource_limits_memory_bytes{bcs_cluster_id=\"$cluster_id\"}) * 100",
          "step":"",
          "type":"instant"
        }
      ],
      "title":"内存/pod",
      "transformations":[
        {
          "id":"concatenate",
          "options":{

          }
        }
      ],
      "type":"table"
    },
    {
      "collapsed":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "gridPos":{
        "h":1,
        "w":24,
        "x":0,
        "y":49
      },
      "id":26,
      "panels":[

      ],
      "targets":[
        {
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "refId":"A"
        }
      ],
      "title":"网络进出流量top20 /pod",
      "type":"row"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":100,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":0,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"normal"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "links":[

          ],
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              }
            ]
          },
          "unit":"Bps"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":24,
        "x":0,
        "y":50
      },
      "id":12,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"table",
          "placement":"right",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"desc"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod",
          "query_configs":[
            {
              "alias":"$tag_pod",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"irate",
                  "params":[
                    {
                      "id":"window",
                      "value":"5m"
                    }
                  ]
                },
                {
                  "id":"topk",
                  "params":[
                    {
                      "id":"k",
                      "value":"20"
                    }
                  ]
                }
              ],
              "group_by":[
                "pod"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"container_network_receive_bytes_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"topk(20, sum by(pod) (irate(container_network_receive_bytes_total{namespace=\"$namespace\"}[5m])))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"进流量/pod",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"continuous-RdYlGr"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":100,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":0,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"normal"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "links":[

          ],
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              }
            ]
          },
          "unit":"Bps"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":24,
        "x":0,
        "y":57
      },
      "id":36,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"table",
          "placement":"right",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"desc"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod",
          "query_configs":[
            {
              "alias":"$tag_pod",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"irate",
                  "params":[
                    {
                      "id":"window",
                      "value":"5m"
                    }
                  ]
                },
                {
                  "id":"topk",
                  "params":[
                    {
                      "id":"k",
                      "value":"20"
                    }
                  ]
                }
              ],
              "group_by":[
                "pod"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"container_network_receive_bytes_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"topk(20, sum by(pod) (irate(container_network_transmit_bytes_total{namespace=\"$namespace\"}[5m])))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"出流量/pod",
      "type":"timeseries"
    },
    {
      "collapsed":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "gridPos":{
        "h":1,
        "w":24,
        "x":0,
        "y":64
      },
      "id":30,
      "panels":[

      ],
      "targets":[
        {
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "refId":"A"
        }
      ],
      "title":"网络包进出速率top20 /pod",
      "type":"row"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"continuous-RdYlGr"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":100,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":0,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"normal"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "links":[

          ],
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"Bps"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":24,
        "x":0,
        "y":65
      },
      "id":16,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"table",
          "placement":"right",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"desc"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"topk",
                  "params":[
                    {
                      "id":"k",
                      "value":"20"
                    }
                  ]
                },
                {
                  "id":"irate",
                  "params":[
                    {
                      "id":"window",
                      "value":"5m"
                    }
                  ]
                }
              ],
              "group_by":[
                "pod"
              ],
              "interval":150,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"container_network_receive_packets_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"topk(20, sum by(pod) (irate(container_network_receive_packets_total{namespace=\"$namespace\"}[5m])))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"接收包速率/pod",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":100,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":0,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"normal"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "links":[

          ],
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"Bps"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":24,
        "x":0,
        "y":72
      },
      "id":17,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"table",
          "placement":"right",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"desc"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod",
          "query_configs":[

          ],
          "refId":"A",
          "source":"topk(20, sum by(pod) (irate(container_network_receive_packets_total{namespace=\"$namespace\"}[5m])))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"发送包速率/pod",
      "type":"timeseries"
    },
    {
      "collapsed":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "gridPos":{
        "h":1,
        "w":24,
        "x":0,
        "y":79
      },
      "id":32,
      "panels":[

      ],
      "targets":[
        {
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "refId":"A"
        }
      ],
      "title":"包丢弃速率top20 /pod",
      "type":"row"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":100,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":0,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"normal"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "links":[

          ],
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"Bps"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":24,
        "x":0,
        "y":80
      },
      "id":18,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"table",
          "placement":"right",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"desc"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod",
          "query_configs":[

          ],
          "refId":"A",
          "source":"topk(20, sum by(pod) (irate(container_network_receive_packets_dropped_total{namespace=\"$namespace\"}[5m])))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"接收包丢弃速率/pod",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":100,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":0,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"normal"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "links":[

          ],
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"Bps"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":7,
        "w":24,
        "x":0,
        "y":87
      },
      "id":19,
      "links":[

      ],
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"table",
          "placement":"right",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"desc"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod",
          "query_configs":[

          ],
          "refId":"A",
          "source":"topk(20, sum by(pod) (irate(container_network_transmit_packets_dropped_total{namespace=\"$namespace\"}[5m])))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"发送包丢弃速率/pod",
      "type":"timeseries"
    }
  ],
  "refresh":"",
  "schemaVersion":37,
  "style":"dark",
  "tags":[
    "k8s",
    "bkmonitor"
  ],
  "templating":{
    "list":[
      {
        "current":{

        },
        "datasource":{
          "type":"bkmonitor-timeseries-datasource",
          "uid":"${DS_蓝鲸监控_-_指标数据}"
        },
        "definition":"- Blueking Monitor - 维度",
        "hide":0,
        "includeAll":false,
        "label":"ClusterID",
        "multi":false,
        "name":"cluster_id",
        "options":[

        ],
        "query":{
          "metricConfig":{
            "data_source_label":"bk_monitor",
            "data_type_label":"time_series",
            "group_by":"bcs_cluster_id",
            "metric_field":"kube_pod_owner",
            "result_table_id":"",
            "result_table_label":"kubernetes",
            "where":[

            ]
          },
          "queryType":"dimension",
          "variables":""
        },
        "refresh":1,
        "regex":"",
        "skipUrlSync":false,
        "sort":2,
        "tagValuesQuery":"",
        "tagsQuery":"",
        "type":"query",
        "useTags":false
      },
      {
        "auto":false,
        "auto_count":30,
        "auto_min":"10s",
        "current":{

        },
        "hide":2,
        "includeAll":false,
        "multi":false,
        "name":"interval",
        "options":[

        ],
        "query":"5m",
        "refresh":2,
        "regex":"",
        "skipUrlSync":false,
        "sort":1,
        "tagValuesQuery":"",
        "tagsQuery":"",
        "type":"interval",
        "useTags":false
      },
      {
        "current":{

        },
        "datasource":{
          "type":"bkmonitor-timeseries-datasource",
          "uid":"${DS_蓝鲸监控_-_指标数据}"
        },
        "definition":"- Blueking Monitor - 维度",
        "hide":0,
        "includeAll":false,
        "multi":false,
        "name":"namespace",
        "options":[

        ],
        "query":{
          "metricConfig":{
            "data_source_label":"bk_monitor",
            "data_type_label":"time_series",
            "group_by":"namespace",
            "metric_field":"container_memory_rss",
            "result_table_id":"",
            "result_table_label":"kubernetes",
            "where":[
              {
                "key":"bcs_cluster_id",
                "method":"eq",
                "value":[
                  "$cluster_id"
                ]
              }
            ]
          },
          "queryType":"dimension",
          "variables":"$cluster_id"
        },
        "refresh":1,
        "regex":"",
        "skipUrlSync":false,
        "sort":1,
        "type":"query"
      }
    ]
  },
  "time":{
    "from":"now-1h",
    "to":"now"
  },
  "timepicker":{
    "refresh_intervals":[
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options":[
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone":"",
  "title":"kubernetes集群资源-NameSpace",
  "version":25,
  "weekStart":"",
  "__inputs":[
    {
      "name":"DS_蓝鲸监控_-_指标数据",
      "label":"蓝鲸监控 - 指标数据",
      "description":"",
      "type":"datasource",
      "pluginId":"bkmonitor-timeseries-datasource",
      "pluginName":"Blueing Monitor TimeSeries"
    }
  ],
  "__requires":[
    {
      "type":"datasource",
      "id":"bkmonitor-timeseries-datasource",
      "name":"Blueing Monitor TimeSeries"
    }
  ]
}