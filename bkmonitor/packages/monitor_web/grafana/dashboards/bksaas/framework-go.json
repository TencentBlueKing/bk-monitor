{
  "annotations":{
    "list":[
      {
        "builtIn":1,
        "datasource":{
          "type":"grafana",
          "uid":"-- Grafana --"
        },
        "enable":true,
        "hide":true,
        "iconColor":"rgba(0, 211, 255, 1)",
        "name":"Annotations & Alerts",
        "target":{
          "limit":100,
          "matchAny":false,
          "tags":[

          ],
          "type":"dashboard"
        },
        "type":"dashboard"
      }
    ]
  },
  "editable":true,
  "fiscalYearStartMonth":0,
  "graphTooltip":0,
  "links":[

  ],
  "liveNow":false,
  "panels":[
    {
      "collapsed":false,
      "gridPos":{
        "h":1,
        "w":24,
        "x":0,
        "y":0
      },
      "id":21,
      "panels":[

      ],
      "title":"Gin 框架指标",
      "type":"row"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "description":"",
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              }
            ]
          },
          "unit":"reqps"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":6,
        "w":6,
        "x":0,
        "y":1
      },
      "id":67,
      "options":{
        "colorMode":"value",
        "graphMode":"area",
        "justifyMode":"auto",
        "orientation":"auto",
        "reduceOptions":{
          "calcs":[
            "lastNotNull"
          ],
          "fields":"",
          "values":false
        },
        "showPercentChange":false,
        "textMode":"auto",
        "wideLayout":true
      },
      "pluginVersion":"10.4.10",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"req/s",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"5m"
                    }
                  ]
                }
              ],
              "group_by":[

              ],
              "interval":150,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"gin_request_total",
              "refId":"a",
              "result_table_id":"",
              "time_field":"",
              "where":[
                {
                  "key":"bk_module",
                  "method":"eq",
                  "value":[
                    "$bk_module"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum(rate(bkmonitor:gin_request_total{bk_module=\"$bk_module\",namespace=\"$namespace\"}[$period]))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"每秒请求数",
      "type":"stat"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "description":"",
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              }
            ]
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":6,
        "w":6,
        "x":6,
        "y":1
      },
      "id":69,
      "options":{
        "colorMode":"value",
        "graphMode":"area",
        "justifyMode":"auto",
        "orientation":"auto",
        "reduceOptions":{
          "calcs":[
            "lastNotNull"
          ],
          "fields":"",
          "values":false
        },
        "showPercentChange":false,
        "textMode":"auto",
        "wideLayout":true
      },
      "pluginVersion":"10.4.10",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"PV",
          "query_configs":[

          ],
          "refId":"A",
          "source":"sum(bkmonitor:gin_request_total{namespace=\"$namespace\", bk_module=\"$bk_module\"})",
          "step":"",
          "type":"range"
        }
      ],
      "title":"HTTP 请求数",
      "type":"stat"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              }
            ]
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":6,
        "w":6,
        "x":12,
        "y":1
      },
      "id":71,
      "options":{
        "colorMode":"value",
        "graphMode":"area",
        "justifyMode":"auto",
        "orientation":"auto",
        "reduceOptions":{
          "calcs":[
            "lastNotNull"
          ],
          "fields":"",
          "values":false
        },
        "showPercentChange":false,
        "textMode":"auto",
        "wideLayout":true
      },
      "pluginVersion":"10.4.10",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"UV",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"avg_without_time",
              "metric_field":"gin_request_uv_total",
              "refId":"a",
              "result_table_id":"",
              "time_field":"",
              "where":[
                {
                  "key":"bk_module",
                  "method":"eq",
                  "value":[
                    "$bk_module"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum(bkmonitor:gin_request_uv_total{bk_module=\"$bk_module\",namespace=\"$namespace\"})",
          "step":"",
          "type":"range"
        }
      ],
      "title":"独立访客数（UV）",
      "type":"stat"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            }
          },
          "decimals":0,
          "mappings":[

          ],
          "unit":"none"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":6,
        "w":6,
        "x":18,
        "y":1
      },
      "id":13,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"table",
          "placement":"right",
          "showLegend":true,
          "values":[
            "value"
          ]
        },
        "pieType":"pie",
        "reduceOptions":{
          "calcs":[
            "lastNotNull"
          ],
          "fields":"",
          "values":false
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "pluginVersion":"7.2.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_method",
          "query_configs":[

          ],
          "refId":"A",
          "source":"sum by (method) (bkmonitor:gin_uri_request_total{bk_module=\"$bk_module\",namespace=\"$namespace\",uri!=\"/ping\"})",
          "step":"",
          "type":"range"
        }
      ],
      "title":"HTTP Method",
      "type":"piechart"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "description":"",
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":0,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"auto",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"reqps"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":8,
        "w":12,
        "x":0,
        "y":7
      },
      "id":4,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":false
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"request rate",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"5m"
                    }
                  ]
                }
              ],
              "group_by":[

              ],
              "interval":150,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"gin_request_total",
              "refId":"a",
              "result_table_id":"",
              "time_field":"",
              "where":[
                {
                  "key":"bk_module",
                  "method":"eq",
                  "value":[
                    "$bk_module"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum(rate(bkmonitor:gin_request_total{bk_module=\"$bk_module\",namespace=\"$namespace\"}[$period]))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"每秒请求数",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "description":"",
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"short"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":8,
        "w":12,
        "x":12,
        "y":7
      },
      "id":2,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"10.4.10",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"PV",
          "query_configs":[

          ],
          "refId":"A",
          "source":"sum(bkmonitor:gin_request_total{namespace=\"$namespace\", bk_module=\"$bk_module\"})",
          "step":"",
          "type":"range"
        }
      ],
      "title":"HTTP 请求数",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"s"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":8,
        "w":12,
        "x":0,
        "y":15
      },
      "id":16,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"10.4.10",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"p95",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"histogram_quantile",
                  "params":[
                    {
                      "id":"scalar",
                      "value":"0.95"
                    }
                  ]
                },
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"5m"
                    }
                  ]
                }
              ],
              "group_by":[
                "le",
                "instance"
              ],
              "interval":150,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"gin_request_duration_bucket",
              "refId":"a",
              "result_table_id":"",
              "time_field":"",
              "where":[
                {
                  "key":"bk_module",
                  "method":"eq",
                  "value":[
                    "$bk_module"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"histogram_quantile(0.95, sum by (le) (rate(bkmonitor:gin_request_duration_bucket{bk_module=\"$bk_module\",namespace=\"$namespace\"}[$period])))",
          "step":"",
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"p99",
          "query_configs":[

          ],
          "refId":"B",
          "source":"histogram_quantile(0.99, (sum(rate(bkmonitor:gin_request_duration_bucket{bk_module=\"$bk_module\",namespace=\"$namespace\"}[$period])) by (le)))",
          "step":"",
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"avg",
          "query_configs":[

          ],
          "refId":"C",
          "source":"sum (bkmonitor:gin_request_duration_sum{bk_module=\"$bk_module\",namespace=\"$namespace\"}) / sum(bkmonitor:gin_request_duration_count{bk_module=\"$bk_module\",namespace=\"$namespace\"})",
          "step":"",
          "type":"range"
        }
      ],
      "title":"HTTP 请求耗时",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"short"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":8,
        "w":12,
        "x":12,
        "y":15
      },
      "id":6,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"10.4.10",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"UV",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"avg_without_time",
              "metric_field":"gin_request_uv_total",
              "refId":"a",
              "result_table_id":"",
              "time_field":"",
              "where":[
                {
                  "key":"bk_module",
                  "method":"eq",
                  "value":[
                    "$bk_module"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum(bkmonitor:gin_request_uv_total{bk_module=\"$bk_module\",namespace=\"$namespace\"})",
          "step":"",
          "type":"range"
        }
      ],
      "title":"独立访客数（UV）",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"short"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":9,
        "w":12,
        "x":0,
        "y":23
      },
      "id":10,
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"table",
          "placement":"right",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_uri",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[
                "uri"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"gin_uri_request_total",
              "refId":"a",
              "result_table_id":"",
              "time_field":"",
              "where":[
                {
                  "key":"bk_module",
                  "method":"eq",
                  "value":[
                    "$bk_module"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum by (uri) (bkmonitor:gin_uri_request_total{bk_module=\"$bk_module\",namespace=\"$namespace\", uri=~\".\"})",
          "step":"",
          "type":"range"
        }
      ],
      "title":"HTTP 请求数(以URL聚合)",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"s"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":9,
        "w":12,
        "x":12,
        "y":23
      },
      "id":61,
      "interval":"60s",
      "options":{
        "legend":{
          "calcs":[
            "lastNotNull"
          ],
          "displayMode":"table",
          "placement":"right",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_uri",
          "query_configs":[

          ],
          "refId":"A",
          "source":"avg((gin_request_duration_sum{namespace=~\"$namespace\",bk_module=\"$bk_module\", uri=~\".\"}) / (gin_request_duration_count{namespace=~\"$namespace\",bk_module=\"$bk_module\", uri=~\".\"})) by (uri) ",
          "step":"",
          "type":"range"
        }
      ],
      "title":"HTTP请求耗时(以URL聚合)",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"Bps"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":8,
        "w":12,
        "x":0,
        "y":32
      },
      "id":12,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"10.4.10",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"traffic-in",
          "query_configs":[

          ],
          "refId":"A",
          "source":"sum(rate(bkmonitor:gin_request_body_total{bk_module=\"$bk_module\",namespace=\"$namespace\"}[5m]))",
          "step":"",
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"traffic-out",
          "query_configs":[

          ],
          "refId":"B",
          "source":"sum(rate(bkmonitor:gin_response_body_total{bk_module=\"$bk_module\",namespace=\"$namespace\"}[5m]))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"Traffic In-Out",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":0,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"auto",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"blue",
                "value":null
              },
              {
                "color":"green",
                "value":80
              }
            ]
          },
          "unit":"none"
        },
        "overrides":[
          {
            "__systemRef":"hideSeriesFrom",
            "matcher":{
              "id":"byNames",
              "options":{
                "mode":"exclude",
                "names":[
                  "/api/cache"
                ],
                "prefix":"All except:",
                "readOnly":true
              }
            },
            "properties":[
              {
                "id":"custom.hideFrom",
                "value":{
                  "legend":false,
                  "tooltip":false,
                  "viz":true
                }
              }
            ]
          }
        ]
      },
      "gridPos":{
        "h":8,
        "w":12,
        "x":12,
        "y":32
      },
      "id":19,
      "options":{
        "legend":{
          "calcs":[
            "last"
          ],
          "displayMode":"list",
          "placement":"right",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_uri",
          "query_configs":[

          ],
          "refId":"A",
          "source":"sum by(uri) (gin_slow_request_total{bk_module=\"$bk_module\",namespace=\"$namespace\"})",
          "step":"",
          "type":"range"
        }
      ],
      "title":"超过1秒的请求排行",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "description":"",
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":0,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"auto",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":9,
        "w":12,
        "x":0,
        "y":40
      },
      "id":14,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"7.2.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_code",
          "query_configs":[

          ],
          "refId":"A",
          "source":"sum by(code) (gin_uri_request_total{bk_module=\"$bk_module\",namespace=\"$namespace\",code=~\"2..\"})",
          "step":"",
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"total",
          "query_configs":[

          ],
          "refId":"B",
          "source":"sum(gin_uri_request_total{bk_module=\"$bk_module\",namespace=\"$namespace\",code=~\"2..\"})",
          "step":"",
          "type":"range"
        }
      ],
      "title":"2xx请求数",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "description":"",
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":0,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"auto",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":9,
        "w":12,
        "x":12,
        "y":40
      },
      "id":65,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"7.2.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_code",
          "query_configs":[

          ],
          "refId":"A",
          "source":"sum by(code) (gin_uri_request_total{bk_module=\"$bk_module\",namespace=\"$namespace\",code=~\"[3-5][0-9][0-9]\"})",
          "step":"",
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"total",
          "query_configs":[

          ],
          "refId":"B",
          "source":"sum(gin_uri_request_total{bk_module=\"$bk_module\",namespace=\"$namespace\",code=~\"[3-5][0-9][0-9]\"})",
          "step":"",
          "type":"range"
        }
      ],
      "title":"非2xx请求数",
      "type":"timeseries"
    },
    {
      "collapsed":false,
      "gridPos":{
        "h":1,
        "w":24,
        "x":0,
        "y":49
      },
      "id":47,
      "panels":[

      ],
      "title":"Go Processes",
      "type":"row"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":2,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":true,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"bytes"
        },
        "overrides":[
          {
            "matcher":{
              "id":"byName",
              "options":"resident"
            },
            "properties":[
              {
                "id":"unit",
                "value":"short"
              }
            ]
          }
        ]
      },
      "gridPos":{
        "h":12,
        "w":12,
        "x":0,
        "y":50
      },
      "id":43,
      "options":{
        "legend":{
          "calcs":[
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode":"table",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "uid":"${DS_PROMETHEUS-APL}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod resident",
          "query_configs":[

          ],
          "refId":"A",
          "source":"(bkmonitor:process_resident_memory_bytes{bk_module=\"$bk_module\",namespace=\"$namespace\"})",
          "step":4,
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "uid":"${DS_PROMETHEUS-APL}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod virtual",
          "query_configs":[

          ],
          "refId":"B",
          "source":"(bkmonitor:process_virtual_memory_bytes{bk_module=\"$bk_module\",namespace=\"$namespace\"})",
          "step":4,
          "type":"range"
        }
      ],
      "title":"process memory",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":2,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":true,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"bytes"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":12,
        "w":12,
        "x":12,
        "y":50
      },
      "id":45,
      "options":{
        "legend":{
          "calcs":[
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode":"table",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "uid":"${DS_PROMETHEUS-APL}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"",
              "expression":"(a)",
              "functions":[

              ]
            }
          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod - resident",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"avg_without_time",
              "metric_field":"process_resident_memory_bytes",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"time",
              "where":[
                {
                  "key":"bk_module",
                  "method":"eq",
                  "value":[
                    "$bk_module"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"rate(bkmonitor:process_resident_memory_bytes{bk_module=\"$bk_module\",namespace=\"$namespace\"}[$period])",
          "step":4,
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "uid":"${DS_PROMETHEUS-APL}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod - virtual",
          "query_configs":[

          ],
          "refId":"B",
          "source":"deriv(bkmonitor:process_virtual_memory_bytes{bk_module=\"$bk_module\",namespace=\"$namespace\"}[$period])",
          "step":4,
          "type":"range"
        }
      ],
      "title":"process memory deriv",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":2,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":true,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"bytes"
        },
        "overrides":[
          {
            "matcher":{
              "id":"byName",
              "options":"alloc rate"
            },
            "properties":[
              {
                "id":"unit",
                "value":"Bps"
              }
            ]
          }
        ]
      },
      "gridPos":{
        "h":11,
        "w":12,
        "x":0,
        "y":62
      },
      "id":49,
      "options":{
        "legend":{
          "calcs":[
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode":"table",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "uid":"${DS_PROMETHEUS-APL}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod - bytes allocated",
          "query_configs":[

          ],
          "refId":"A",
          "source":"(bkmonitor:go_memstats_alloc_bytes{bk_module=\"$bk_module\",namespace=\"$namespace\"})",
          "step":4,
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "uid":"${DS_PROMETHEUS-APL}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod - alloc rate",
          "query_configs":[

          ],
          "refId":"B",
          "source":"rate(bkmonitor:go_memstats_alloc_bytes{bk_module=\"$bk_module\",namespace=\"$namespace\"}[30s])",
          "step":4,
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "uid":"${DS_PROMETHEUS-APL}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod - stack inuse",
          "query_configs":[

          ],
          "refId":"C",
          "source":"(bkmonitor:go_memstats_stack_inuse_bytes{bk_module=\"$bk_module\",namespace=\"$namespace\"})",
          "step":4,
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "uid":"${DS_PROMETHEUS-APL}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod - heap inuse",
          "query_configs":[

          ],
          "refId":"D",
          "source":"(bkmonitor:go_memstats_heap_inuse_bytes{bk_module=\"$bk_module\",namespace=\"$namespace\"})",
          "step":4,
          "type":"range"
        }
      ],
      "title":"go memstats",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":2,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":true,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"bytes"
        },
        "overrides":[
          {
            "matcher":{
              "id":"byName",
              "options":"alloc rate"
            },
            "properties":[
              {
                "id":"unit",
                "value":"Bps"
              }
            ]
          }
        ]
      },
      "gridPos":{
        "h":11,
        "w":12,
        "x":12,
        "y":62
      },
      "id":51,
      "options":{
        "legend":{
          "calcs":[
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode":"table",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "uid":"${DS_PROMETHEUS-APL}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod - bytes allocated",
          "query_configs":[

          ],
          "refId":"A",
          "source":"deriv(bkmonitor:go_memstats_alloc_bytes{bk_module=\"$bk_module\",namespace=\"$namespace\"}[$period])",
          "step":4,
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "uid":"${DS_PROMETHEUS-APL}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod - alloc rate",
          "query_configs":[

          ],
          "refId":"B",
          "source":"rate(bkmonitor:go_memstats_alloc_bytes_total{bk_module=\"$bk_module\",namespace=\"$namespace\"}[$period])",
          "step":4,
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "uid":"${DS_PROMETHEUS-APL}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod - stack inuse",
          "query_configs":[

          ],
          "refId":"C",
          "source":"deriv(bkmonitor:go_memstats_stack_inuse_bytes{bk_module=\"$bk_module\",namespace=\"$namespace\"}[$period])",
          "step":4,
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "uid":"${DS_PROMETHEUS-APL}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod - heap inuse",
          "query_configs":[

          ],
          "refId":"D",
          "source":"deriv(bkmonitor:go_memstats_heap_inuse_bytes{bk_module=\"$bk_module\",namespace=\"$namespace\"}[$period])",
          "step":4,
          "type":"range"
        }
      ],
      "title":"go memstats deriv",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":2,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":true,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"short"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":13,
        "w":12,
        "x":0,
        "y":73
      },
      "id":53,
      "options":{
        "legend":{
          "calcs":[
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode":"table",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "uid":"${DS_PROMETHEUS-APL}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod",
          "query_configs":[

          ],
          "refId":"A",
          "source":"(bkmonitor:process_open_fds{bk_module=\"$bk_module\",namespace=\"$namespace\"})",
          "step":4,
          "type":"range"
        }
      ],
      "title":"open fds",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":2,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":true,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"short"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":13,
        "w":12,
        "x":12,
        "y":73
      },
      "id":55,
      "options":{
        "legend":{
          "calcs":[
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode":"table",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "uid":"${DS_PROMETHEUS-APL}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod",
          "query_configs":[

          ],
          "refId":"A",
          "source":"deriv(bkmonitor:process_open_fds{bk_module=\"$bk_module\",namespace=\"$namespace\"}[$period])",
          "step":4,
          "type":"range"
        }
      ],
      "title":"open fds deriv",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":2,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":true,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"short"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":13,
        "w":12,
        "x":0,
        "y":86
      },
      "id":57,
      "options":{
        "legend":{
          "calcs":[
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode":"table",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "uid":"${DS_PROMETHEUS-APL}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod",
          "query_configs":[

          ],
          "refId":"A",
          "source":"(bkmonitor:go_goroutines{bk_module=\"$bk_module\",namespace=\"$namespace\"})",
          "step":4,
          "type":"range"
        }
      ],
      "title":"Goroutines",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":2,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":true,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"s"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":13,
        "w":12,
        "x":12,
        "y":86
      },
      "id":59,
      "options":{
        "legend":{
          "calcs":[
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode":"table",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "uid":"${DS_PROMETHEUS-APL}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod: $tag_quantile",
          "query_configs":[

          ],
          "refId":"A",
          "source":"(bkmonitor:go_gc_duration_seconds{bk_module=\"$bk_module\",namespace=\"$namespace\"})",
          "step":4,
          "type":"range"
        }
      ],
      "title":"GC duration quantiles",
      "type":"timeseries"
    },
    {
      "collapsed":false,
      "gridPos":{
        "h":1,
        "w":24,
        "x":0,
        "y":99
      },
      "id":23,
      "panels":[

      ],
      "title":"系统资源",
      "type":"row"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"percent"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":13,
        "w":8,
        "x":0,
        "y":100
      },
      "id":25,
      "interval":"1m",
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"",
              "expression":"(a / b) * 100",
              "functions":[

              ]
            }
          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[
                "pod_name"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"time",
              "where":[
                {
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            },
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[
                "pod_name"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"kube_pod_container_resource_limits_cpu_cores",
              "refId":"b",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"time",
              "where":[
                {
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"(sum(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\"}[2m])) by (pod_name) / sum(kube_pod_container_resource_limits_cpu_cores{namespace=\"$namespace\"}) by (pod_name)) * 100",
          "step":"",
          "type":"range"
        }
      ],
      "title":"CPU 使用率",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"line+area"
            }
          },
          "mappings":[

          ],
          "max":100,
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"transparent",
                "value":null
              },
              {
                "color":"red",
                "value":25
              }
            ]
          },
          "unit":"percent"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":13,
        "w":8,
        "x":8,
        "y":100
      },
      "id":29,
      "interval":"1m",
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"",
              "expression":"(a / b) * 100",
              "functions":[

              ]
            }
          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[
                "pod_name"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"container_cpu_cfs_throttled_periods_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"time",
              "where":[
                {
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            },
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[
                "pod_name"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"container_cpu_cfs_periods_total",
              "refId":"b",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"time",
              "where":[
                {
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"(sum(rate(container_cpu_cfs_throttled_periods_total{namespace=\"$namespace\"}[2m])) by (pod_name) / sum(rate(container_cpu_cfs_periods_total{namespace=\"$namespace\"}[2m])) by (pod_name)) * 100\n",
          "step":"",
          "type":"range"
        }
      ],
      "title":"CPU 限流周期",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"decbytes"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":13,
        "w":8,
        "x":16,
        "y":100
      },
      "id":35,
      "interval":"1m",
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "alias":"",
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "display":false,
          "expression":"",
          "hide":false,
          "host":[

          ],
          "module":[

          ],
          "only_promql":true,
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[

              ]
            }
          ],
          "refId":"A",
          "source":"sum(rate(container_network_transmit_bytes_total{namespace=\"$namespace\"}[2m])) by (pod_name)\n"
        }
      ],
      "title":"网络发送",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"line+area"
            }
          },
          "mappings":[

          ],
          "max":100,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"transparent",
                "value":null
              },
              {
                "color":"red",
                "value":90
              }
            ]
          },
          "unit":"percent"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":11,
        "w":8,
        "x":0,
        "y":113
      },
      "id":31,
      "interval":"1m",
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_pod_name",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"time",
              "where":[

              ]
            }
          ],
          "refId":"A",
          "source":"(sum(container_memory_rss{namespace=\"$namespace\"}) by (pod_name) / sum(kube_pod_container_resource_limits_memory_bytes{namespace=\"$namespace\"}) by (pod_name)) * 100",
          "step":"",
          "type":"range"
        }
      ],
      "title":"内存使用率",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"decbytes"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":11,
        "w":8,
        "x":8,
        "y":113
      },
      "id":33,
      "interval":"1m",
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "alias":"$tag_pod_name",
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "display":false,
          "expression":"",
          "hide":false,
          "host":[

          ],
          "module":[

          ],
          "only_promql":true,
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[

              ]
            }
          ],
          "refId":"A",
          "source":"container_memory_rss{namespace=\"$namespace\"}"
        }
      ],
      "title":"内存使用量",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"decbytes"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":11,
        "w":8,
        "x":16,
        "y":113
      },
      "id":41,
      "interval":"1m",
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "alias":"",
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "display":false,
          "expression":"",
          "hide":false,
          "host":[

          ],
          "module":[

          ],
          "only_promql":true,
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[

              ]
            }
          ],
          "refId":"A",
          "source":"sum(rate(container_network_receive_bytes_total{namespace=\"$namespace\"}[2m])) by (pod_name)\n"
        }
      ],
      "title":"网络接收",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"decbytes"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":9,
        "w":8,
        "x":0,
        "y":124
      },
      "id":37,
      "interval":"1m",
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "alias":"",
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "display":false,
          "expression":"",
          "hide":false,
          "host":[

          ],
          "module":[

          ],
          "only_promql":true,
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[

              ]
            }
          ],
          "refId":"A",
          "source":"sum(rate(container_fs_reads_bytes_total{namespace=\"$namespace\"}[2m])) by (pod_name)\n"
        }
      ],
      "title":"磁盘读",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"decbytes"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":9,
        "w":8,
        "x":8,
        "y":124
      },
      "id":39,
      "interval":"1m",
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "alias":"",
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "display":false,
          "expression":"",
          "hide":false,
          "host":[

          ],
          "module":[

          ],
          "only_promql":true,
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[

              ]
            }
          ],
          "refId":"A",
          "source":"sum(rate(container_fs_writes_bytes_total{namespace=\"$namespace\"}[2m])) by (pod_name)\n"
        }
      ],
      "title":"磁盘写",
      "type":"timeseries"
    }
  ],
  "refresh":"5s",
  "schemaVersion":39,
  "tags":[

  ],
  "templating":{
    "list":[
      {
        "current":{

        },
        "datasource":{
          "type":"bkmonitor-timeseries-datasource",
          "uid":"${DS_蓝鲸监控_-_指标数据}"
        },
        "definition":"- Blueking Monitor - 维度",
        "hide":0,
        "includeAll":false,
        "multi":false,
        "name":"namespace",
        "options":[

        ],
        "query":{
          "metricConfig":{
            "data_label":"",
            "data_source_label":"bk_monitor",
            "data_type_label":"time_series",
            "group_by":"namespace",
            "metric_field":"container_memory_rss",
            "result_table_id":"",
            "result_table_label":"kubernetes",
            "where":[

            ]
          },
          "queryType":"dimension",
          "variables":""
        },
        "refresh":1,
        "regex":"",
        "skipUrlSync":false,
        "sort":1,
        "type":"query"
      },
      {
        "current":{

        },
        "datasource":{
          "type":"bkmonitor-timeseries-datasource",
          "uid":"${DS_蓝鲸监控_-_指标数据}"
        },
        "definition":"- Blueking Monitor - prometheus",
        "hide":0,
        "includeAll":false,
        "multi":false,
        "name":"bk_module",
        "options":[

        ],
        "query":{
          "promql":"label_values(gin_request_body_total, bk_module)",
          "queryType":"prometheus"
        },
        "refresh":1,
        "regex":"",
        "skipUrlSync":false,
        "sort":0,
        "type":"query"
      },
      {
        "current":{

        },
        "hide":0,
        "includeAll":false,
        "label":"period",
        "multi":false,
        "name":"period",
        "options":[

        ],
        "query":"1m,2m,5m,10m",
        "queryValue":"",
        "refresh":1,
        "skipUrlSync":false,
        "type":"custom"
      }
    ]
  },
  "time":{
    "from":"now-1h",
    "to":"now"
  },
  "timepicker":{

  },
  "timezone":"default",
  "title":"bksaas/framework-go",
  "version":52,
  "weekStart":"",
  "__inputs":[
    {
      "name":"DS_蓝鲸监控_-_指标数据",
      "label":"蓝鲸监控 - 指标数据",
      "description":"",
      "type":"datasource",
      "pluginId":"bkmonitor-timeseries-datasource",
      "pluginName":"蓝鲸监控 - 指标数据"
    }
  ],
  "__requires":[
    {
      "type":"datasource",
      "id":"bkmonitor-timeseries-datasource",
      "name":"蓝鲸监控 - 指标数据"
    }
  ]
}