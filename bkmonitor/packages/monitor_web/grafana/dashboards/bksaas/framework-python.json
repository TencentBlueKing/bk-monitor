{
  "annotations":{
    "list":[
      {
        "builtIn":1,
        "datasource":{
          "type":"datasource",
          "uid":"grafana"
        },
        "enable":true,
        "hide":true,
        "iconColor":"rgba(0, 211, 255, 1)",
        "name":"Annotations & Alerts",
        "target":{
          "limit":100,
          "matchAny":false,
          "tags":[

          ],
          "type":"dashboard"
        },
        "type":"dashboard"
      }
    ]
  },
  "description":"BlueKing Python Framework Dashboard",
  "editable":true,
  "fiscalYearStartMonth":0,
  "graphTooltip":0,
  "links":[

  ],
  "liveNow":false,
  "panels":[
    {
      "collapsed":false,
      "gridPos":{
        "h":1,
        "w":24,
        "x":0,
        "y":0
      },
      "id":27,
      "panels":[

      ],
      "title":"HTTP请求",
      "type":"row"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"green",
                "value":80
              }
            ]
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":4,
        "w":8,
        "x":0,
        "y":1
      },
      "id":3,
      "interval":"60s",
      "options":{
        "colorMode":"value",
        "graphMode":"area",
        "justifyMode":"auto",
        "orientation":"auto",
        "reduceOptions":{
          "calcs":[
            "lastNotNull"
          ],
          "fields":"",
          "values":false
        },
        "textMode":"auto"
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"总请求数",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"django_http_requests_before_middlewares_total",
              "refId":"a",
              "result_table_id":"",
              "time_field":"",
              "where":[
                {
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum(increase(bkmonitor:django_http_requests_before_middlewares_total{namespace=\"$namespace\",bk_module=\"$bk_module\"}[$__range]))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"HTTP请求数",
      "type":"stat"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "mappings":[
            {
              "options":{
                "match":"null",
                "result":{
                  "text":"N/A"
                }
              },
              "type":"special"
            }
          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"reqps"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":4,
        "w":8,
        "x":8,
        "y":1
      },
      "id":34,
      "interval":"60s",
      "options":{
        "colorMode":"value",
        "graphMode":"area",
        "justifyMode":"auto",
        "orientation":"horizontal",
        "reduceOptions":{
          "calcs":[
            "mean"
          ],
          "fields":"",
          "values":false
        },
        "textMode":"auto"
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"总请求数",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"django_http_requests_before_middlewares_total",
              "refId":"a",
              "result_table_id":"",
              "time_field":""
            }
          ],
          "refId":"A",
          "source":"sum(rate(bkmonitor:django_http_requests_before_middlewares_total{namespace=\"$namespace\",bk_module=\"$bk_module\"}[$period]))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"每秒请求数",
      "type":"stat"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"orange"
              },
              {
                "color":"orange",
                "value":1
              }
            ]
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":4,
        "w":8,
        "x":16,
        "y":1
      },
      "id":32,
      "interval":"60s",
      "options":{
        "colorMode":"value",
        "graphMode":"area",
        "justifyMode":"auto",
        "orientation":"auto",
        "reduceOptions":{
          "calcs":[
            "lastNotNull"
          ],
          "fields":"",
          "values":false
        },
        "textMode":"auto"
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"总请求数",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"django_http_requests_before_middlewares_total",
              "refId":"a",
              "result_table_id":"",
              "time_field":""
            }
          ],
          "refId":"A",
          "source":"sum(increase(bkmonitor:django_http_exceptions_total_by_view_total{namespace=\"$namespace\",bk_module=\"$bk_module\"}[$period]))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"异常请求数",
      "type":"stat"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "description":"",
      "fieldConfig":{
        "defaults":{
          "custom":{
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "scaleDistribution":{
              "type":"linear"
            }
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":9,
        "w":12,
        "x":0,
        "y":5
      },
      "id":35,
      "options":{
        "calculate":true,
        "cellGap":1,
        "cellValues":{
          "unit":"reqps"
        },
        "color":{
          "exponent":0.5,
          "fill":"dark-orange",
          "mode":"scheme",
          "reverse":false,
          "scale":"exponential",
          "scheme":"Spectral",
          "steps":64
        },
        "exemplars":{
          "color":"rgba(255,0,255,0.7)"
        },
        "filterValues":{
          "le":0.000000001
        },
        "legend":{
          "show":true
        },
        "rowsFrame":{
          "layout":"auto",
          "value":"Responses"
        },
        "tooltip":{
          "show":true,
          "yHistogram":true
        },
        "yAxis":{
          "axisPlacement":"left",
          "decimals":2,
          "gridLines":{
            "show":true
          },
          "reverse":false,
          "unit":"s"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"heatmap",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"sum_without_time",
              "metric_field":"django_http_requests_before_middlewares_total",
              "refId":"a",
              "result_table_id":"",
              "time_field":""
            }
          ],
          "refId":"A",
          "source":"sum(rate(bkmonitor:django_http_requests_latency_including_middlewares_seconds_bucket{namespace=\"$namespace\",bk_module=\"$bk_module\"}[$period])) by (le)",
          "step":"",
          "type":"range"
        }
      ],
      "title":"请求数量[按处理时间统计]",
      "type":"heatmap"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"never",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"s"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":9,
        "w":12,
        "x":12,
        "y":5
      },
      "id":20,
      "interval":"60s",
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"right",
          "showLegend":true
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[

          ],
          "refId":"A",
          "source":"sum(increase(django_http_requests_latency_seconds_by_view_method_sum{namespace=~\"$namespace\",bk_module=\"$bk_module\"}[$period]) / increase(django_http_requests_latency_seconds_by_view_method_count{namespace=~\"$namespace\",bk_module=\"$bk_module\"}[$period])) by (view,method) ",
          "step":"",
          "type":"range"
        }
      ],
      "title":"HTTP请求耗时(以URL聚合)",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":0,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":3,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"always",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[
          {
            "__systemRef":"hideSeriesFrom",
            "matcher":{
              "id":"byNames",
              "options":{
                "mode":"exclude",
                "names":[
                  "201"
                ],
                "prefix":"All except:",
                "readOnly":true
              }
            },
            "properties":[
              {
                "id":"custom.hideFrom",
                "value":{
                  "legend":false,
                  "tooltip":false,
                  "viz":true
                }
              }
            ]
          }
        ]
      },
      "gridPos":{
        "h":10,
        "w":12,
        "x":0,
        "y":14
      },
      "id":31,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_status",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"increase",
                  "params":[
                    {
                      "id":"window",
                      "value":"1m"
                    }
                  ]
                }
              ],
              "group_by":[
                "status"
              ],
              "interval":30,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"django_http_responses_total_by_status_total",
              "refId":"a",
              "result_table_id":"",
              "time_field":"",
              "where":[
                {
                  "key":"bk_module",
                  "method":"eq",
                  "value":[
                    "$bk_module"
                  ]
                },
                {
                  "condition":"and",
                  "key":"namespace",
                  "method":"eq",
                  "value":[
                    "$namespace"
                  ]
                },
                {
                  "condition":"and",
                  "key":"status",
                  "method":"reg",
                  "value":[
                    "2.."
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum by (status) (increase(bkmonitor:django_http_responses_total_by_status_total{bk_module=\"$bk_module\",namespace=\"$namespace\",status=~\"2..\"}[$period]))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"2xx请求数",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":0,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":3,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"always",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[
          {
            "__systemRef":"hideSeriesFrom",
            "matcher":{
              "id":"byNames",
              "options":{
                "mode":"exclude",
                "names":[
                  "403"
                ],
                "prefix":"All except:",
                "readOnly":true
              }
            },
            "properties":[
              {
                "id":"custom.hideFrom",
                "value":{
                  "legend":false,
                  "tooltip":false,
                  "viz":true
                }
              }
            ]
          }
        ]
      },
      "gridPos":{
        "h":10,
        "w":12,
        "x":12,
        "y":14
      },
      "id":5,
      "interval":"60s",
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_status",
          "query_configs":[

          ],
          "refId":"C",
          "source":"sum(increase(django_http_responses_total_by_status_total{status=~\"[3-5][0-9][0-9]\", namespace=\"$namespace\",bk_module=\"$bk_module\"}[$period])) by (status)\n",
          "step":"",
          "type":"range"
        }
      ],
      "title":"非2xx请求数",
      "type":"timeseries"
    },
    {
      "aliasColors":{

      },
      "bars":false,
      "dashLength":10,
      "dashes":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "unit":"s"
        },
        "overrides":[

        ]
      },
      "fill":1,
      "fillGradient":0,
      "gridPos":{
        "h":8,
        "w":12,
        "x":0,
        "y":24
      },
      "hiddenSeries":false,
      "id":4,
      "interval":"60s",
      "legend":{
        "avg":false,
        "current":false,
        "max":false,
        "min":false,
        "show":true,
        "total":false,
        "values":false
      },
      "lines":true,
      "linewidth":1,
      "nullPointMode":"null as zero",
      "options":{
        "alertThreshold":true
      },
      "percentage":false,
      "pluginVersion":"9.1.0",
      "pointradius":2,
      "points":false,
      "renderer":"flot",
      "seriesOverrides":[

      ],
      "spaceLength":10,
      "stack":false,
      "steppedLine":false,
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"95分位",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"increase",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"django_http_requests_before_middlewares_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":""
            }
          ],
          "refId":"A",
          "source":"histogram_quantile(0.95, sum by (le) (rate(django_http_requests_latency_including_middlewares_seconds_bucket{namespace=\"$namespace\",bk_module=\"$bk_module\"}[$period])))",
          "step":"",
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"p90",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"increase",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"django_http_requests_before_middlewares_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                },
                {
                  "condition":"and",
                  "key":"app_code",
                  "method":"eq",
                  "value":[
                    "$app_code"
                  ]
                }
              ]
            }
          ],
          "refId":"B",
          "source":"histogram_quantile(0.9, sum by (le) (rate(django_http_requests_latency_including_middlewares_seconds_bucket{namespace=\"$namespace\",bk_module=\"$bk_module\"}[$period])))",
          "step":"",
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"p80",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"increase",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"django_http_requests_before_middlewares_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                },
                {
                  "condition":"and",
                  "key":"app_code",
                  "method":"eq",
                  "value":[
                    "$app_code"
                  ]
                }
              ]
            }
          ],
          "refId":"C",
          "source":"histogram_quantile(0.8, sum by (le) (rate(django_http_requests_latency_including_middlewares_seconds_bucket{namespace=\"$namespace\",bk_module=\"$bk_module\"}[$period])))",
          "step":"",
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"p50",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"increase",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"django_http_requests_before_middlewares_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                },
                {
                  "condition":"and",
                  "key":"app_code",
                  "method":"eq",
                  "value":[
                    "$app_code"
                  ]
                }
              ]
            }
          ],
          "refId":"D",
          "source":"histogram_quantile(0.5, sum by (le) (rate(django_http_requests_latency_including_middlewares_seconds_bucket{namespace=\"$namespace\",bk_module=\"$bk_module\"}[$period])))",
          "step":"",
          "type":"range"
        }
      ],
      "thresholds":[

      ],
      "timeRegions":[

      ],
      "title":"HTTP请求耗时",
      "tooltip":{
        "shared":true,
        "sort":0,
        "value_type":"individual"
      },
      "type":"graph",
      "xaxis":{
        "mode":"time",
        "show":true,
        "values":[

        ]
      },
      "yaxes":[
        {
          "$$hashKey":"object:70",
          "format":"s",
          "logBase":1,
          "show":true
        },
        {
          "$$hashKey":"object:71",
          "format":"short",
          "logBase":1,
          "show":true
        }
      ],
      "yaxis":{
        "align":false
      }
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":10,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":2,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"always",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "min":0,
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green",
                "value":null
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"s"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":8,
        "w":12,
        "x":12,
        "y":24
      },
      "id":23,
      "interval":"60s",
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"table",
          "placement":"right",
          "showLegend":true,
          "width":250
        },
        "tooltip":{
          "mode":"multi",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[

          ],
          "refId":"A",
          "source":"sum(increase(django_http_requests_latency_seconds_by_view_method_sum{namespace=~\"$namespace\",bk_module=\"$bk_module\"}[$period]) / increase(django_http_requests_latency_seconds_by_view_method_count{namespace=~\"$namespace\",bk_module=\"$bk_module\"}[$period])) by (view,method) > 1",
          "step":"",
          "type":"range"
        }
      ],
      "title":"超过1秒的请求排行",
      "type":"timeseries"
    },
    {
      "aliasColors":{

      },
      "bars":false,
      "dashLength":10,
      "dashes":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "unit":"none"
        },
        "overrides":[

        ]
      },
      "fill":1,
      "fillGradient":0,
      "gridPos":{
        "h":9,
        "w":12,
        "x":0,
        "y":32
      },
      "hiddenSeries":false,
      "id":21,
      "interval":"60s",
      "legend":{
        "alignAsTable":true,
        "avg":false,
        "current":false,
        "max":false,
        "min":false,
        "rightSide":true,
        "show":true,
        "total":false,
        "values":false
      },
      "lines":true,
      "linewidth":1,
      "nullPointMode":"null",
      "options":{
        "alertThreshold":true
      },
      "percentage":false,
      "pluginVersion":"9.1.0",
      "pointradius":2,
      "points":false,
      "renderer":"flot",
      "seriesOverrides":[

      ],
      "spaceLength":10,
      "stack":false,
      "steppedLine":false,
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_view",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"increase",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"django_http_requests_before_middlewares_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":""
            }
          ],
          "refId":"B",
          "source":"sum(increase(django_http_requests_latency_seconds_by_view_method_count{namespace=\"$namespace\",bk_module=\"$bk_module\"}[$period])) by (view)",
          "step":"",
          "type":"range"
        }
      ],
      "thresholds":[

      ],
      "timeRegions":[

      ],
      "title":"HTTP请求数(以view聚合)",
      "tooltip":{
        "shared":true,
        "sort":0,
        "value_type":"individual"
      },
      "type":"graph",
      "xaxis":{
        "mode":"time",
        "show":true,
        "values":[

        ]
      },
      "yaxes":[
        {
          "$$hashKey":"object:70",
          "format":"none",
          "logBase":1,
          "min":"0",
          "show":true
        },
        {
          "$$hashKey":"object:71",
          "format":"short",
          "logBase":1,
          "show":true
        }
      ],
      "yaxis":{
        "align":false
      }
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":0,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":1,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"auto",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":9,
        "w":12,
        "x":12,
        "y":32
      },
      "id":2,
      "interval":"60s",
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"Pod: $tag_pod",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"increase",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[
                "hostname"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"django_http_requests_before_middlewares_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":""
            }
          ],
          "refId":"A",
          "source":"sum(django_http_requests_before_middlewares_total{namespace=\"$namespace\",bk_module=\"$bk_module\"} - django_http_requests_before_middlewares_total{namespace=\"$namespace\",bk_module=\"$bk_module\"} offset $period) by (pod)",
          "step":"",
          "type":"range"
        }
      ],
      "title":"HTTP请求数(以pod聚合)",
      "type":"timeseries"
    },
    {
      "aliasColors":{

      },
      "bars":false,
      "dashLength":10,
      "dashes":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fill":1,
      "fillGradient":0,
      "gridPos":{
        "h":9,
        "w":12,
        "x":0,
        "y":41
      },
      "hiddenSeries":false,
      "id":18,
      "interval":"1m",
      "legend":{
        "avg":false,
        "current":false,
        "max":false,
        "min":false,
        "show":true,
        "total":false,
        "values":false
      },
      "lines":true,
      "linewidth":1,
      "nullPointMode":"null",
      "options":{
        "alertThreshold":true
      },
      "percentage":false,
      "pluginVersion":"9.1.0",
      "pointradius":2,
      "points":false,
      "renderer":"flot",
      "seriesOverrides":[

      ],
      "spaceLength":10,
      "stack":false,
      "steppedLine":false,
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_type",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"django_http_ajax_requests_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[

              ]
            }
          ],
          "refId":"B",
          "source":"sum(increase(django_http_exceptions_total_by_type_total{namespace=\"$namespace\",bk_module=\"$bk_module\"}[$period])) by (type)",
          "step":"",
          "type":"range"
        }
      ],
      "thresholds":[

      ],
      "timeRegions":[

      ],
      "title":"HTTP 请求抛出异常数(以异常类型聚合)",
      "tooltip":{
        "shared":true,
        "sort":0,
        "value_type":"individual"
      },
      "type":"graph",
      "xaxis":{
        "mode":"time",
        "show":true,
        "values":[

        ]
      },
      "yaxes":[
        {
          "$$hashKey":"object:117",
          "format":"short",
          "logBase":1,
          "min":"0",
          "show":true
        },
        {
          "$$hashKey":"object:118",
          "format":"short",
          "logBase":1,
          "show":true
        }
      ],
      "yaxis":{
        "align":false
      }
    },
    {
      "aliasColors":{

      },
      "bars":false,
      "dashLength":10,
      "dashes":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fill":1,
      "fillGradient":0,
      "gridPos":{
        "h":9,
        "w":12,
        "x":12,
        "y":41
      },
      "hiddenSeries":false,
      "id":19,
      "interval":"1m",
      "legend":{
        "avg":false,
        "current":false,
        "max":false,
        "min":false,
        "show":true,
        "total":false,
        "values":false
      },
      "lines":true,
      "linewidth":1,
      "nullPointMode":"null",
      "options":{
        "alertThreshold":true
      },
      "percentage":false,
      "pluginVersion":"9.1.0",
      "pointradius":2,
      "points":false,
      "renderer":"flot",
      "seriesOverrides":[

      ],
      "spaceLength":10,
      "stack":false,
      "steppedLine":false,
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_view",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"django_http_ajax_requests_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[

              ]
            }
          ],
          "refId":"A",
          "source":"sum(increase(django_http_exceptions_total_by_view_total{ namespace=\"$namespace\",bk_module=\"$bk_module\"}[$period])) by (view)",
          "step":"",
          "type":"range"
        }
      ],
      "thresholds":[

      ],
      "timeRegions":[

      ],
      "title":"HTTP 请求抛出异常数(以view聚合)",
      "tooltip":{
        "shared":true,
        "sort":0,
        "value_type":"individual"
      },
      "type":"graph",
      "xaxis":{
        "mode":"time",
        "show":true,
        "values":[

        ]
      },
      "yaxes":[
        {
          "$$hashKey":"object:117",
          "format":"short",
          "logBase":1,
          "min":"0",
          "show":true
        },
        {
          "$$hashKey":"object:118",
          "format":"short",
          "logBase":1,
          "show":true
        }
      ],
      "yaxis":{
        "align":false
      }
    },
    {
      "collapsed":false,
      "gridPos":{
        "h":1,
        "w":24,
        "x":0,
        "y":50
      },
      "id":29,
      "panels":[

      ],
      "title":"系统资源",
      "type":"row"
    },
    {
      "aliasColors":{

      },
      "bars":false,
      "dashLength":10,
      "dashes":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fill":1,
      "fillGradient":0,
      "gridPos":{
        "h":13,
        "w":8,
        "x":0,
        "y":51
      },
      "hiddenSeries":false,
      "id":7,
      "interval":"1m",
      "legend":{
        "avg":false,
        "current":false,
        "max":false,
        "min":false,
        "show":true,
        "total":false,
        "values":false
      },
      "lines":true,
      "linewidth":1,
      "nullPointMode":"null",
      "options":{
        "alertThreshold":true
      },
      "percentage":false,
      "pluginVersion":"9.1.0",
      "pointradius":2,
      "points":false,
      "renderer":"flot",
      "seriesOverrides":[

      ],
      "spaceLength":10,
      "stack":false,
      "steppedLine":false,
      "targets":[
        {
          "alias":"",
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "display":false,
          "expression":"",
          "hide":false,
          "host":[

          ],
          "module":[

          ],
          "only_promql":true,
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[

              ]
            }
          ],
          "refId":"A",
          "source":"(sum(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\"}[2m])) by (pod_name) / sum(kube_pod_container_resource_limits_cpu_cores{namespace=\"$namespace\"}) by (pod_name)) * 100"
        }
      ],
      "thresholds":[

      ],
      "timeRegions":[

      ],
      "title":"CPU limit 使用率",
      "tooltip":{
        "shared":true,
        "sort":0,
        "value_type":"individual"
      },
      "type":"graph",
      "xaxis":{
        "mode":"time",
        "show":true,
        "values":[

        ]
      },
      "yaxes":[
        {
          "$$hashKey":"object:81",
          "format":"percent",
          "logBase":1,
          "min":"0",
          "show":true
        },
        {
          "$$hashKey":"object:82",
          "format":"short",
          "logBase":1,
          "show":true
        }
      ],
      "yaxis":{
        "align":false
      }
    },
    {
      "aliasColors":{

      },
      "bars":false,
      "dashLength":10,
      "dashes":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fill":1,
      "fillGradient":0,
      "gridPos":{
        "h":13,
        "w":8,
        "x":8,
        "y":51
      },
      "hiddenSeries":false,
      "id":9,
      "interval":"1m",
      "legend":{
        "avg":false,
        "current":false,
        "max":false,
        "min":false,
        "show":true,
        "total":false,
        "values":false
      },
      "lines":true,
      "linewidth":1,
      "nullPointMode":"null",
      "options":{
        "alertThreshold":true
      },
      "percentage":false,
      "pluginVersion":"9.1.0",
      "pointradius":2,
      "points":false,
      "renderer":"flot",
      "seriesOverrides":[

      ],
      "spaceLength":10,
      "stack":false,
      "steppedLine":false,
      "targets":[
        {
          "alias":"",
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "display":false,
          "expression":"",
          "hide":false,
          "host":[

          ],
          "module":[

          ],
          "only_promql":true,
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[

              ]
            }
          ],
          "refId":"A",
          "source":"(sum(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\"}[2m])) by (pod_name) / sum(kube_pod_container_resource_requests_cpu_cores{namespace=\"$namespace\"}) by (pod_name)) * 100"
        }
      ],
      "thresholds":[

      ],
      "timeRegions":[

      ],
      "title":"CPU request 使用率",
      "tooltip":{
        "shared":true,
        "sort":0,
        "value_type":"individual"
      },
      "type":"graph",
      "xaxis":{
        "mode":"time",
        "show":true,
        "values":[

        ]
      },
      "yaxes":[
        {
          "$$hashKey":"object:81",
          "format":"percent",
          "logBase":1,
          "show":true
        },
        {
          "$$hashKey":"object:82",
          "format":"short",
          "logBase":1,
          "show":true
        }
      ],
      "yaxis":{
        "align":false
      }
    },
    {
      "aliasColors":{

      },
      "bars":false,
      "dashLength":10,
      "dashes":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fill":1,
      "fillGradient":0,
      "gridPos":{
        "h":13,
        "w":8,
        "x":16,
        "y":51
      },
      "hiddenSeries":false,
      "id":12,
      "interval":"1m",
      "legend":{
        "avg":false,
        "current":false,
        "max":false,
        "min":false,
        "show":true,
        "total":false,
        "values":false
      },
      "lines":true,
      "linewidth":1,
      "nullPointMode":"null",
      "options":{
        "alertThreshold":true
      },
      "percentage":false,
      "pluginVersion":"9.1.0",
      "pointradius":2,
      "points":false,
      "renderer":"flot",
      "seriesOverrides":[

      ],
      "spaceLength":10,
      "stack":false,
      "steppedLine":false,
      "targets":[
        {
          "alias":"",
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "display":false,
          "expression":"",
          "hide":false,
          "host":[

          ],
          "module":[

          ],
          "only_promql":true,
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[

              ]
            }
          ],
          "refId":"A",
          "source":"(sum(rate(container_cpu_cfs_throttled_periods_total{namespace=\"$namespace\"}[2m])) by (pod_name) / sum(rate(container_cpu_cfs_periods_total{namespace=\"$namespace\"}[2m])) by (pod_name)) * 100\n"
        }
      ],
      "thresholds":[
        {
          "$$hashKey":"object:1908",
          "colorMode":"critical",
          "fill":true,
          "line":true,
          "op":"gt",
          "value":25,
          "yaxis":"left"
        }
      ],
      "timeRegions":[

      ],
      "title":"CPU 限流周期",
      "tooltip":{
        "shared":true,
        "sort":0,
        "value_type":"individual"
      },
      "type":"graph",
      "xaxis":{
        "mode":"time",
        "show":true,
        "values":[

        ]
      },
      "yaxes":[
        {
          "$$hashKey":"object:81",
          "format":"percent",
          "logBase":1,
          "max":"100",
          "min":"0",
          "show":true
        },
        {
          "$$hashKey":"object:82",
          "format":"short",
          "logBase":1,
          "min":"0",
          "show":true
        }
      ],
      "yaxis":{
        "align":false
      }
    },
    {
      "aliasColors":{

      },
      "bars":false,
      "dashLength":10,
      "dashes":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fill":1,
      "fillGradient":0,
      "gridPos":{
        "h":11,
        "w":8,
        "x":0,
        "y":64
      },
      "hiddenSeries":false,
      "id":11,
      "interval":"1m",
      "legend":{
        "avg":false,
        "current":false,
        "max":false,
        "min":false,
        "show":true,
        "total":false,
        "values":false
      },
      "lines":true,
      "linewidth":1,
      "nullPointMode":"null",
      "options":{
        "alertThreshold":true
      },
      "percentage":false,
      "pluginVersion":"9.1.0",
      "pointradius":2,
      "points":false,
      "renderer":"flot",
      "seriesOverrides":[

      ],
      "spaceLength":10,
      "stack":false,
      "steppedLine":false,
      "targets":[
        {
          "alias":"$tag_pod_name",
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "display":false,
          "expression":"",
          "hide":false,
          "host":[

          ],
          "module":[

          ],
          "only_promql":true,
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[

              ]
            }
          ],
          "refId":"A",
          "source":"(sum(container_memory_rss{namespace=\"$namespace\"}) by (pod_name) / sum(kube_pod_container_resource_limits_memory_bytes{namespace=\"$namespace\"}) by (pod_name)) * 100"
        }
      ],
      "thresholds":[
        {
          "$$hashKey":"object:1210",
          "colorMode":"critical",
          "fill":true,
          "line":true,
          "op":"gt",
          "value":90,
          "yaxis":"left"
        }
      ],
      "timeRegions":[

      ],
      "title":"内存使用率",
      "tooltip":{
        "shared":true,
        "sort":0,
        "value_type":"individual"
      },
      "type":"graph",
      "xaxis":{
        "mode":"time",
        "show":true,
        "values":[

        ]
      },
      "yaxes":[
        {
          "$$hashKey":"object:81",
          "format":"percent",
          "logBase":1,
          "max":"100",
          "show":true
        },
        {
          "$$hashKey":"object:82",
          "format":"short",
          "logBase":1,
          "show":true
        }
      ],
      "yaxis":{
        "align":false
      }
    },
    {
      "aliasColors":{

      },
      "bars":false,
      "dashLength":10,
      "dashes":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fill":1,
      "fillGradient":0,
      "gridPos":{
        "h":11,
        "w":8,
        "x":8,
        "y":64
      },
      "hiddenSeries":false,
      "id":10,
      "interval":"1m",
      "legend":{
        "avg":false,
        "current":false,
        "max":false,
        "min":false,
        "show":true,
        "total":false,
        "values":false
      },
      "lines":true,
      "linewidth":1,
      "nullPointMode":"null",
      "options":{
        "alertThreshold":true
      },
      "percentage":false,
      "pluginVersion":"9.1.0",
      "pointradius":2,
      "points":false,
      "renderer":"flot",
      "seriesOverrides":[

      ],
      "spaceLength":10,
      "stack":false,
      "steppedLine":false,
      "targets":[
        {
          "alias":"$tag_pod_name",
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "display":false,
          "expression":"",
          "hide":false,
          "host":[

          ],
          "module":[

          ],
          "only_promql":true,
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[

              ]
            }
          ],
          "refId":"A",
          "source":"container_memory_rss{namespace=\"$namespace\"}"
        }
      ],
      "thresholds":[

      ],
      "timeRegions":[

      ],
      "title":"内存使用量",
      "tooltip":{
        "shared":true,
        "sort":0,
        "value_type":"individual"
      },
      "type":"graph",
      "xaxis":{
        "mode":"time",
        "show":true,
        "values":[

        ]
      },
      "yaxes":[
        {
          "$$hashKey":"object:81",
          "format":"decbytes",
          "logBase":1,
          "show":true
        },
        {
          "$$hashKey":"object:82",
          "format":"short",
          "logBase":1,
          "show":true
        }
      ],
      "yaxis":{
        "align":false
      }
    },
    {
      "aliasColors":{

      },
      "bars":false,
      "dashLength":10,
      "dashes":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fill":1,
      "fillGradient":0,
      "gridPos":{
        "h":11,
        "w":8,
        "x":16,
        "y":64
      },
      "hiddenSeries":false,
      "id":14,
      "interval":"1m",
      "legend":{
        "avg":false,
        "current":false,
        "max":false,
        "min":false,
        "show":true,
        "total":false,
        "values":false
      },
      "lines":true,
      "linewidth":1,
      "nullPointMode":"null",
      "options":{
        "alertThreshold":true
      },
      "percentage":false,
      "pluginVersion":"9.1.0",
      "pointradius":2,
      "points":false,
      "renderer":"flot",
      "seriesOverrides":[

      ],
      "spaceLength":10,
      "stack":false,
      "steppedLine":false,
      "targets":[
        {
          "alias":"",
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "display":false,
          "expression":"",
          "hide":false,
          "host":[

          ],
          "module":[

          ],
          "only_promql":true,
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[

              ]
            }
          ],
          "refId":"A",
          "source":"sum(rate(container_network_transmit_bytes_total{namespace=\"$namespace\"}[2m])) by (pod_name)\n"
        }
      ],
      "thresholds":[

      ],
      "timeRegions":[

      ],
      "title":"网络发送",
      "tooltip":{
        "shared":true,
        "sort":0,
        "value_type":"individual"
      },
      "type":"graph",
      "xaxis":{
        "mode":"time",
        "show":true,
        "values":[

        ]
      },
      "yaxes":[
        {
          "$$hashKey":"object:81",
          "format":"decbytes",
          "logBase":1,
          "min":"0",
          "show":true
        },
        {
          "$$hashKey":"object:82",
          "format":"short",
          "logBase":1,
          "show":true
        }
      ],
      "yaxis":{
        "align":false
      }
    },
    {
      "aliasColors":{

      },
      "bars":false,
      "dashLength":10,
      "dashes":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fill":1,
      "fillGradient":0,
      "gridPos":{
        "h":9,
        "w":8,
        "x":0,
        "y":75
      },
      "hiddenSeries":false,
      "id":13,
      "interval":"1m",
      "legend":{
        "avg":false,
        "current":false,
        "max":false,
        "min":false,
        "show":true,
        "total":false,
        "values":false
      },
      "lines":true,
      "linewidth":1,
      "nullPointMode":"null",
      "options":{
        "alertThreshold":true
      },
      "percentage":false,
      "pluginVersion":"9.1.0",
      "pointradius":2,
      "points":false,
      "renderer":"flot",
      "seriesOverrides":[

      ],
      "spaceLength":10,
      "stack":false,
      "steppedLine":false,
      "targets":[
        {
          "alias":"",
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "display":false,
          "expression":"",
          "hide":false,
          "host":[

          ],
          "module":[

          ],
          "only_promql":true,
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[

              ]
            }
          ],
          "refId":"A",
          "source":"sum(rate(container_fs_reads_bytes_total{namespace=\"$namespace\"}[2m])) by (pod_name)\n"
        }
      ],
      "thresholds":[

      ],
      "timeRegions":[

      ],
      "title":"磁盘读",
      "tooltip":{
        "shared":true,
        "sort":0,
        "value_type":"individual"
      },
      "type":"graph",
      "xaxis":{
        "mode":"time",
        "show":true,
        "values":[

        ]
      },
      "yaxes":[
        {
          "$$hashKey":"object:81",
          "format":"decbytes",
          "logBase":1,
          "min":"0",
          "show":true
        },
        {
          "$$hashKey":"object:82",
          "format":"short",
          "logBase":1,
          "show":true
        }
      ],
      "yaxis":{
        "align":false
      }
    },
    {
      "aliasColors":{

      },
      "bars":false,
      "dashLength":10,
      "dashes":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fill":1,
      "fillGradient":0,
      "gridPos":{
        "h":9,
        "w":8,
        "x":8,
        "y":75
      },
      "hiddenSeries":false,
      "id":16,
      "interval":"1m",
      "legend":{
        "avg":false,
        "current":false,
        "max":false,
        "min":false,
        "show":true,
        "total":false,
        "values":false
      },
      "lines":true,
      "linewidth":1,
      "nullPointMode":"null",
      "options":{
        "alertThreshold":true
      },
      "percentage":false,
      "pluginVersion":"9.1.0",
      "pointradius":2,
      "points":false,
      "renderer":"flot",
      "seriesOverrides":[

      ],
      "spaceLength":10,
      "stack":false,
      "steppedLine":false,
      "targets":[
        {
          "alias":"",
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "display":false,
          "expression":"",
          "hide":false,
          "host":[

          ],
          "module":[

          ],
          "only_promql":true,
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[

              ]
            }
          ],
          "refId":"A",
          "source":"sum(rate(container_fs_writes_bytes_total{namespace=\"$namespace\"}[2m])) by (pod_name)\n"
        }
      ],
      "thresholds":[

      ],
      "timeRegions":[

      ],
      "title":"磁盘写",
      "tooltip":{
        "shared":true,
        "sort":0,
        "value_type":"individual"
      },
      "type":"graph",
      "xaxis":{
        "mode":"time",
        "show":true,
        "values":[

        ]
      },
      "yaxes":[
        {
          "$$hashKey":"object:81",
          "format":"decbytes",
          "logBase":1,
          "min":"0",
          "show":true
        },
        {
          "$$hashKey":"object:82",
          "format":"short",
          "logBase":1,
          "show":true
        }
      ],
      "yaxis":{
        "align":false
      }
    },
    {
      "aliasColors":{

      },
      "bars":false,
      "dashLength":10,
      "dashes":false,
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fill":1,
      "fillGradient":0,
      "gridPos":{
        "h":9,
        "w":8,
        "x":16,
        "y":75
      },
      "hiddenSeries":false,
      "id":15,
      "interval":"1m",
      "legend":{
        "avg":false,
        "current":false,
        "max":false,
        "min":false,
        "show":true,
        "total":false,
        "values":false
      },
      "lines":true,
      "linewidth":1,
      "nullPointMode":"null",
      "options":{
        "alertThreshold":true
      },
      "percentage":false,
      "pluginVersion":"9.1.0",
      "pointradius":2,
      "points":false,
      "renderer":"flot",
      "seriesOverrides":[

      ],
      "spaceLength":10,
      "stack":false,
      "steppedLine":false,
      "targets":[
        {
          "alias":"",
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "display":false,
          "expression":"",
          "hide":false,
          "host":[

          ],
          "module":[

          ],
          "only_promql":true,
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"container_cpu_usage_seconds_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[

              ]
            }
          ],
          "refId":"A",
          "source":"sum(rate(container_network_receive_bytes_total{namespace=\"$namespace\"}[2m])) by (pod_name)\n"
        }
      ],
      "thresholds":[

      ],
      "timeRegions":[

      ],
      "title":"网络接收",
      "tooltip":{
        "shared":true,
        "sort":0,
        "value_type":"individual"
      },
      "type":"graph",
      "xaxis":{
        "mode":"time",
        "show":true,
        "values":[

        ]
      },
      "yaxes":[
        {
          "$$hashKey":"object:81",
          "format":"decbytes",
          "logBase":1,
          "min":"0",
          "show":true
        },
        {
          "$$hashKey":"object:82",
          "format":"short",
          "logBase":1,
          "show":true
        }
      ],
      "yaxis":{
        "align":false
      }
    }
  ],
  "refresh":false,
  "schemaVersion":37,
  "style":"dark",
  "tags":[

  ],
  "templating":{
    "list":[
      {
        "current":{

        },
        "datasource":{
          "type":"bkmonitor-timeseries-datasource",
          "uid":"${DS_蓝鲸监控_-_指标数据}"
        },
        "definition":"- Blueking Monitor - Dimension",
        "hide":0,
        "includeAll":false,
        "multi":false,
        "name":"namespace",
        "options":[

        ],
        "query":{
          "metricConfig":{
            "data_label":"",
            "data_source_label":"bk_monitor",
            "data_type_label":"time_series",
            "group_by":"namespace",
            "metric_field":"container_memory_rss",
            "result_table_id":"",
            "result_table_label":"kubernetes",
            "where":[

            ]
          },
          "queryType":"dimension",
          "variables":""
        },
        "refresh":1,
        "regex":"",
        "skipUrlSync":false,
        "sort":1,
        "type":"query"
      },
      {
        "current":{

        },
        "datasource":{
          "type":"bkmonitor-timeseries-datasource",
          "uid":"${DS_蓝鲸监控_-_指标数据}"
        },
        "definition":"- Blueking Monitor - prometheus",
        "hide":0,
        "includeAll":false,
        "multi":false,
        "name":"bk_module",
        "options":[

        ],
        "query":{
          "promql":"label_values(django_http_requests_before_middlewares_total, bk_module)",
          "queryType":"prometheus"
        },
        "refresh":1,
        "regex":"",
        "skipUrlSync":false,
        "sort":0,
        "type":"query"
      },
      {
        "current":{

        },
        "hide":0,
        "includeAll":false,
        "multi":false,
        "name":"period",
        "options":[

        ],
        "query":"1m,2m,5m,10m",
        "queryValue":"",
        "skipUrlSync":false,
        "type":"custom",
        "refresh":1
      }
    ]
  },
  "time":{
    "from":"now-1h",
    "to":"now"
  },
  "timepicker":{

  },
  "timezone":"",
  "title":"bksaas/framework-python",
  "version":35,
  "weekStart":"",
  "__inputs":[
    {
      "name":"DS_蓝鲸监控_-_指标数据",
      "label":"蓝鲸监控 - 指标数据",
      "description":"",
      "type":"datasource",
      "pluginId":"bkmonitor-timeseries-datasource",
      "pluginName":"蓝鲸监控 - 指标数据"
    }
  ],
  "__requires":[
    {
      "type":"datasource",
      "id":"bkmonitor-timeseries-datasource",
      "name":"蓝鲸监控 - 指标数据"
    }
  ]
}