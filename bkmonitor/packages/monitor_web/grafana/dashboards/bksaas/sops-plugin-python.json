{
  "annotations":{
    "list":[
      {
        "builtIn":1,
        "datasource":{
          "type":"grafana",
          "uid":"-- Grafana --"
        },
        "enable":true,
        "hide":true,
        "iconColor":"rgba(0, 211, 255, 1)",
        "name":"Annotations & Alerts",
        "target":{
          "limit":100,
          "matchAny":false,
          "tags":[

          ],
          "type":"dashboard"
        },
        "type":"dashboard"
      }
    ]
  },
  "description":"Python 标准运维插件仪表盘",
  "editable":true,
  "fiscalYearStartMonth":0,
  "graphTooltip":0,
  "links":[

  ],
  "liveNow":false,
  "panels":[
    {
      "collapsed":false,
      "gridPos":{
        "h":1,
        "w":24,
        "x":0,
        "y":0
      },
      "id":46,
      "panels":[

      ],
      "title":"业务指标",
      "type":"row"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":5,
        "w":5,
        "x":0,
        "y":1
      },
      "id":24,
      "options":{
        "colorMode":"value",
        "graphMode":"area",
        "justifyMode":"auto",
        "orientation":"auto",
        "reduceOptions":{
          "calcs":[
            "lastNotNull"
          ],
          "fields":"",
          "values":false
        },
        "showPercentChange":false,
        "textMode":"auto",
        "wideLayout":true
      },
      "pluginVersion":"10.4.10",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "host":[

          ],
          "module":[

          ],
          "only_promql":false,
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"bk_plugin_execute_running_processes",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"",
          "step":""
        }
      ],
      "title":"正在执行的execute数量",
      "type":"stat"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":5,
        "w":4,
        "x":5,
        "y":1
      },
      "id":26,
      "options":{
        "colorMode":"value",
        "graphMode":"area",
        "justifyMode":"auto",
        "orientation":"auto",
        "reduceOptions":{
          "calcs":[
            "lastNotNull"
          ],
          "fields":"",
          "values":false
        },
        "showPercentChange":false,
        "textMode":"auto",
        "wideLayout":true
      },
      "pluginVersion":"10.4.10",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "host":[

          ],
          "module":[

          ],
          "only_promql":false,
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"bk_plugin_schedule_running_processes",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"",
          "step":""
        }
      ],
      "title":"正在执行的schdule数量",
      "type":"stat"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"green",
                "value":80
              }
            ]
          },
          "unit":"percent"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":5,
        "w":5,
        "x":9,
        "y":1
      },
      "id":32,
      "options":{
        "minVizHeight":75,
        "minVizWidth":75,
        "orientation":"auto",
        "reduceOptions":{
          "calcs":[
            "lastNotNull"
          ],
          "fields":"",
          "values":false
        },
        "showThresholdLabels":false,
        "showThresholdMarkers":true,
        "sizing":"auto"
      },
      "pluginVersion":"10.4.10",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"失败率",
              "expression":"(1 - (((a or vector(0)  + b) / c) or vector(0)) )* 100",
              "functions":[

              ]
            }
          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[
                "version"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"bk_plugin_execute_failed_count_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            },
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"bk_plugin_execute_exception_count_total",
              "refId":"b",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            },
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"bk_plugin_execute_time_count",
              "refId":"c",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"(1-(\n  sum(increase(bkmonitor:bk_plugin_execute_failed_count_total{bk_app_code=\"$bk_app_code\", bk_env=\"$bk_env\"}[$__range])) +\n  sum(increase(bkmonitor:bk_plugin_execute_exception_count_total{bk_app_code=\"$bk_app_code\", bk_env=\"$bk_env\"}[$__range]))\n) /\nclamp_min(sum(increase(bkmonitor:bk_plugin_execute_time_count{bk_app_code=\"$bk_app_code\", bk_env=\"$bk_env\"}[$__range])), 1)) * 100",
          "step":"",
          "type":"range"
        }
      ],
      "title":"插件 execute 执行成功率",
      "type":"gauge"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"green",
                "value":80
              }
            ]
          },
          "unit":"%"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":5,
        "w":5,
        "x":14,
        "y":1
      },
      "id":34,
      "options":{
        "minVizHeight":75,
        "minVizWidth":75,
        "orientation":"auto",
        "reduceOptions":{
          "calcs":[
            "lastNotNull"
          ],
          "fields":"",
          "values":false
        },
        "showThresholdLabels":false,
        "showThresholdMarkers":true,
        "sizing":"auto"
      },
      "pluginVersion":"10.4.10",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[

          ],
          "refId":"B",
          "source":"(1-(\n  sum(increase(bkmonitor:bk_plugin_schedule_failed_count_total{bk_app_code=\"$bk_app_code\", bk_env=\"$bk_env\"}[$__range])) +\n  sum(increase(bkmonitor:bk_plugin_schedule_exception_count_total{bk_app_code=\"$bk_app_code\", bk_env=\"$bk_env\"}[$__range]))\n) /\nclamp_min(sum(increase(bkmonitor:bk_plugin_schedule_time_count{bk_app_code=\"$bk_app_code\", bk_env=\"$bk_env\"}[$__range])), 1)) * 100",
          "step":"",
          "type":"range"
        }
      ],
      "title":"插件schdule执行成功率",
      "type":"gauge"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":5,
        "w":5,
        "x":19,
        "y":1
      },
      "id":2,
      "options":{
        "colorMode":"value",
        "graphMode":"area",
        "justifyMode":"auto",
        "orientation":"auto",
        "reduceOptions":{
          "calcs":[
            "lastNotNull"
          ],
          "fields":"",
          "values":false
        },
        "showPercentChange":false,
        "textMode":"auto",
        "wideLayout":true
      },
      "pluginVersion":"10.4.10",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "host":[

          ],
          "module":[

          ],
          "only_promql":false,
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"MAX",
              "metric_field":"celery_workers",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"",
          "step":""
        }
      ],
      "title":"worker 数量",
      "type":"stat"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":0,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":3,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"always",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[
          {
            "__systemRef":"hideSeriesFrom",
            "matcher":{
              "id":"byNames",
              "options":{
                "mode":"exclude",
                "names":[
                  "version=1.0.1"
                ],
                "prefix":"All except:",
                "readOnly":true
              }
            },
            "properties":[
              {
                "id":"custom.hideFrom",
                "value":{
                  "legend":false,
                  "tooltip":false,
                  "viz":true
                }
              }
            ]
          }
        ]
      },
      "gridPos":{
        "h":5,
        "w":8,
        "x":0,
        "y":6
      },
      "id":10,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"",
              "expression":"a/2",
              "functions":[

              ]
            }
          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"version=$tag_version",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"increase",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[
                "version"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"bk_plugin_execute_failed_count_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum by (version) (increase(bkmonitor:bk_plugin_execute_failed_count_total{bk_app_code=\"$bk_app_code\",bk_env=\"$bk_env\"}[1m]))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"插件[EXECUTE]执行失败数量",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":0,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":3,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"always",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[
          {
            "__systemRef":"hideSeriesFrom",
            "matcher":{
              "id":"byNames",
              "options":{
                "mode":"exclude",
                "names":[
                  "version=1.0.4"
                ],
                "prefix":"All except:",
                "readOnly":true
              }
            },
            "properties":[
              {
                "id":"custom.hideFrom",
                "value":{
                  "legend":false,
                  "tooltip":false,
                  "viz":true
                }
              }
            ]
          }
        ]
      },
      "gridPos":{
        "h":5,
        "w":8,
        "x":8,
        "y":6
      },
      "id":12,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"",
              "expression":"a*60",
              "functions":[

              ]
            }
          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"version=$tag_version",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"rate",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[
                "version"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"bk_plugin_execute_exception_count_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum by(version)(increase(bkmonitor:bk_plugin_execute_exception_count_total{bk_app_code=\"$bk_app_code\",bk_env=\"$bk_env\"}[1m])) ",
          "step":"",
          "type":"range"
        }
      ],
      "title":"插件[EXECUTE]执行异常数量",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":0,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":3,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"always",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":5,
        "w":8,
        "x":16,
        "y":6
      },
      "id":16,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"",
              "expression":"a/2",
              "functions":[

              ]
            }
          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"version=$tag_version",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"increase",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[
                "version"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"bk_plugin_execute_time_count",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum by (version) (increase(bkmonitor:bk_plugin_execute_time_count{bk_app_code=\"$bk_app_code\",bk_env=\"$bk_env\"}[1m])) ",
          "step":"",
          "type":"range"
        }
      ],
      "title":"插件[EXECUTE]执行次数",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":0,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":3,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"always",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":8,
        "w":8,
        "x":0,
        "y":11
      },
      "id":18,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"",
              "expression":"a/2",
              "functions":[

              ]
            }
          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"version=$tag_version",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"increase",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[
                "version"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"bk_plugin_schedule_failed_count_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum by (version) (increase(bkmonitor:bk_plugin_schedule_failed_count_total{bk_app_code=\"$bk_app_code\",bk_env=\"$bk_env\"}[1m])) ",
          "step":"",
          "type":"range"
        }
      ],
      "title":"插件[SCHEDULE]执行失败数量",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":0,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":3,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"always",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[
          {
            "__systemRef":"hideSeriesFrom",
            "matcher":{
              "id":"byNames",
              "options":{
                "mode":"exclude",
                "names":[
                  "version=1.0.5"
                ],
                "prefix":"All except:",
                "readOnly":true
              }
            },
            "properties":[
              {
                "id":"custom.hideFrom",
                "value":{
                  "legend":false,
                  "tooltip":false,
                  "viz":true
                }
              }
            ]
          }
        ]
      },
      "gridPos":{
        "h":8,
        "w":8,
        "x":8,
        "y":11
      },
      "id":20,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"",
              "expression":"a/2",
              "functions":[

              ]
            }
          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"version=$tag_version",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"increase",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[
                "version"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"bk_plugin_schedule_exception_count_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum by (version) (increase(bkmonitor:bk_plugin_schedule_exception_count_total{bk_app_code=\"$bk_app_code\",bk_env=\"$bk_env\"}[1m]))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"插件[SCHEDULE]执行异常数量",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":0,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":3,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"always",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":8,
        "w":8,
        "x":16,
        "y":11
      },
      "id":22,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"",
              "expression":"a/2",
              "functions":[

              ]
            }
          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"version=$tag_version",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"increase",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[
                "version"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"bk_plugin_schedule_time_count",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum by (version) (increase(bkmonitor:bk_plugin_schedule_time_count{bk_app_code=\"$bk_app_code\",bk_env=\"$bk_env\"}[1m])) ",
          "step":"",
          "type":"range"
        }
      ],
      "title":"插件[SCHEDULE]执行次数",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":0,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":3,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"always",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              }
            ]
          },
          "unit":"none"
        },
        "overrides":[
          {
            "__systemRef":"hideSeriesFrom",
            "matcher":{
              "id":"byNames",
              "options":{
                "mode":"exclude",
                "names":[
                  "插件执行数量"
                ],
                "prefix":"All except:",
                "readOnly":true
              }
            },
            "properties":[
              {
                "id":"custom.hideFrom",
                "value":{
                  "legend":false,
                  "tooltip":false,
                  "viz":true
                }
              }
            ]
          }
        ]
      },
      "gridPos":{
        "h":10,
        "w":7,
        "x":0,
        "y":19
      },
      "id":36,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "pluginVersion":"9.1.0",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"",
              "expression":"a/2",
              "functions":[

              ]
            }
          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"插件执行数量",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"increase",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"django_http_requests_latency_seconds_by_view_method_count",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                },
                {
                  "condition":"and",
                  "key":"view",
                  "method":"eq",
                  "value":[
                    "bk_plugin_framework.services.bpf_service.api.invoke.Invoke"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum(increase(bkmonitor:django_http_requests_latency_seconds_by_view_method_count{bk_app_code=\"$bk_app_code\",bk_env=\"$bk_env\",view=\"bk_plugin_framework.services.bpf_service.api.invoke.Invoke\"}[1m]))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"插件执行趋势",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"left",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":0,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":3,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"always",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":10,
        "w":7,
        "x":7,
        "y":19
      },
      "id":4,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[
                "queue_name"
              ],
              "interval":"auto",
              "interval_unit":"s",
              "method":"AVG",
              "metric_field":"celery_queue_length",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"avg by (queue_name) (avg_over_time(bkmonitor:celery_queue_length{bk_app_code=\"$bk_app_code\",bk_env=\"$bk_env\"}[1m]))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"队列堆积消息数",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"thresholds"
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"green",
                "value":80
              }
            ]
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":10,
        "w":5,
        "x":14,
        "y":19
      },
      "id":6,
      "options":{
        "colorMode":"value",
        "graphMode":"area",
        "justifyMode":"auto",
        "orientation":"auto",
        "reduceOptions":{
          "calcs":[
            "lastNotNull"
          ],
          "fields":"",
          "values":false
        },
        "showPercentChange":false,
        "textMode":"auto",
        "wideLayout":true
      },
      "pluginVersion":"10.4.10",
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"",
              "expression":"a/2",
              "functions":[

              ]
            }
          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"请求数",
          "query_configs":[
            {
              "alias":"总请求数",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"increase",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[

              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"django_http_requests_before_middlewares_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum(increase(bkmonitor:django_http_requests_before_middlewares_total{bk_app_code=\"$bk_app_code\",bk_env=\"$bk_env\"}[$__range]))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"HTTP请求数",
      "type":"stat"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisBorderShow":false,
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":0,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "insertNulls":false,
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":3,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"always",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"none"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[
          {
            "__systemRef":"hideSeriesFrom",
            "matcher":{
              "id":"byNames",
              "options":{
                "mode":"exclude",
                "names":[
                  "200"
                ],
                "prefix":"All except:",
                "readOnly":true
              }
            },
            "properties":[
              {
                "id":"custom.hideFrom",
                "value":{
                  "legend":false,
                  "tooltip":false,
                  "viz":true
                }
              }
            ]
          }
        ]
      },
      "gridPos":{
        "h":10,
        "w":5,
        "x":19,
        "y":19
      },
      "id":8,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[
            {
              "active":true,
              "alias":"",
              "expression":"a/2",
              "functions":[

              ]
            }
          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"$tag_status",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":false,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"increase",
                  "params":[
                    {
                      "id":"window",
                      "value":"2m"
                    }
                  ]
                }
              ],
              "group_by":[
                "status"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"django_http_responses_total_by_status_total",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"sum by (status) (increase(bkmonitor:django_http_responses_total_by_status_total{bk_app_code=\"$bk_app_code\",bk_env=\"$bk_env\"}[1m]))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"HTTP 状态码分布",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":25,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":3,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"auto",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"normal"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":9,
        "w":12,
        "x":0,
        "y":29
      },
      "id":28,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"50分位",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"histogram_quantile",
                  "params":[
                    {
                      "id":"scalar",
                      "value":0.5
                    }
                  ]
                }
              ],
              "group_by":[
                "le"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"bk_plugin_execute_time_bucket",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"histogram_quantile(0.5, sum by (le) (sum_over_time(bkmonitor:bk_plugin_execute_time_bucket{bk_app_code=\"$bk_app_code\",bk_env=\"$bk_env\"}[1m])))",
          "step":"",
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"80分位",
          "query_configs":[
            {
              "alias":"80",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"histogram_quantile",
                  "params":[
                    {
                      "id":"scalar",
                      "value":"0.8"
                    }
                  ]
                }
              ],
              "group_by":[
                "le"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"bk_plugin_execute_time_bucket",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"B",
          "source":"histogram_quantile(0.8, sum by (le) (sum_over_time(bkmonitor:bk_plugin_execute_time_bucket{bk_app_code=\"$bk_app_code\",bk_env=\"$bk_env\"}[1m])))",
          "step":"",
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"90分位",
          "query_configs":[
            {
              "alias":"90分位",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"histogram_quantile",
                  "params":[
                    {
                      "id":"scalar",
                      "value":0.9
                    }
                  ]
                }
              ],
              "group_by":[
                "le"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"bk_plugin_execute_time_bucket",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"C",
          "source":"histogram_quantile(0.9, sum by (le) (sum_over_time(bkmonitor:bk_plugin_execute_time_bucket{bk_app_code=\"$bk_app_code\",bk_env=\"$bk_env\"}[1m])))",
          "step":"",
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"99分位",
          "query_configs":[
            {
              "alias":"99分位",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"histogram_quantile",
                  "params":[
                    {
                      "id":"scalar",
                      "value":0.95
                    }
                  ]
                }
              ],
              "group_by":[
                "le"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"bk_plugin_execute_time_bucket",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"D",
          "source":"histogram_quantile(0.95, sum by (le) (sum_over_time(bkmonitor:bk_plugin_execute_time_bucket{bk_app_code=\"$bk_app_code\",bk_env=\"$bk_env\"}[1m])))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"插件每次执行execute的耗时分布",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":25,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":3,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"auto",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"normal"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":9,
        "w":12,
        "x":12,
        "y":29
      },
      "id":30,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"50分位",
          "query_configs":[
            {
              "alias":"60",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"histogram_quantile",
                  "params":[
                    {
                      "id":"scalar",
                      "value":0.5
                    }
                  ]
                }
              ],
              "group_by":[
                "le"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"bk_plugin_schedule_time_bucket",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"histogram_quantile(0.5, sum by (le) (sum_over_time(bkmonitor:bk_plugin_schedule_time_bucket{bk_app_code=\"$bk_app_code\",bk_env=\"$bk_env\"}[1m])))",
          "step":"",
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"80分位",
          "query_configs":[
            {
              "alias":"80",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"histogram_quantile",
                  "params":[
                    {
                      "id":"scalar",
                      "value":"0.8"
                    }
                  ]
                }
              ],
              "group_by":[
                "le"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"bk_plugin_schedule_time_bucket",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"B",
          "source":"histogram_quantile(0.8, sum by (le) (sum_over_time(bkmonitor:bk_plugin_schedule_time_bucket{bk_app_code=\"$bk_app_code\",bk_env=\"$bk_env\"}[1m])))",
          "step":"",
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"90分位",
          "query_configs":[
            {
              "alias":"90",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"histogram_quantile",
                  "params":[
                    {
                      "id":"scalar",
                      "value":0.9
                    }
                  ]
                }
              ],
              "group_by":[
                "le"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"bk_schedule_time_bucket",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"C",
          "source":"histogram_quantile(0.9, sum by (le) (sum_over_time(bkmonitor:bk_plugin_schedule_time_bucket{bk_app_code=\"$bk_app_code\",bk_env=\"$bk_env\"}[1m])))",
          "step":"",
          "type":"range"
        },
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"99分位",
          "query_configs":[
            {
              "alias":"99",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[
                {
                  "id":"histogram_quantile",
                  "params":[
                    {
                      "id":"scalar",
                      "value":0.95
                    }
                  ]
                }
              ],
              "group_by":[
                "le"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"bk_schedule_time_bucket",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"bk_app_code",
                  "method":"eq",
                  "value":[
                    "$bk_app_code"
                  ]
                },
                {
                  "condition":"and",
                  "key":"bk_env",
                  "method":"eq",
                  "value":[
                    "$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"D",
          "source":"histogram_quantile(0.95, sum by (le) (sum_over_time(bkmonitor:bk_plugin_schedule_time_bucket{bk_app_code=\"$bk_app_code\",bk_env=\"$bk_env\"}[1m])))",
          "step":"",
          "type":"range"
        }
      ],
      "title":"插件每次执行调度的耗时分布",
      "type":"timeseries"
    },
    {
      "collapsed":false,
      "gridPos":{
        "h":1,
        "w":24,
        "x":0,
        "y":38
      },
      "id":48,
      "panels":[

      ],
      "title":"系统资源",
      "type":"row"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":25,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"auto",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"normal"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"percent"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":12,
        "w":7,
        "x":0,
        "y":39
      },
      "id":38,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[
                "pod_name"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"SUM",
              "metric_field":"container_memory_rss",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"time",
              "where":[
                {
                  "key":"namespace",
                  "method":"include",
                  "value":[
                    "bkapp-$bk_app_code-$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"(sum by(pod_name) (container_memory_rss{namespace=~\"bkapp-$bk_app_code-$bk_env\"}) /on(pod_name) group_right() sum by(pod_name) (kube_pod_container_resource_limits_memory_bytes{namespace=~\"bkapp-$bk_app_code-$bk_env\"})) * 100",
          "step":"",
          "type":"range"
        }
      ],
      "title":"容量/内存使用率",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":25,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"auto",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"normal"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          }
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":12,
        "w":6,
        "x":7,
        "y":39
      },
      "id":40,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "hide":false,
          "host":[

          ],
          "mode":"ui",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[
            {
              "alias":"",
              "data_source_label":"bk_monitor",
              "data_type_label":"time_series",
              "display":true,
              "filter_dict":{

              },
              "functions":[

              ],
              "group_by":[
                "pod_name"
              ],
              "interval":60,
              "interval_unit":"s",
              "method":"avg_without_time",
              "metric_field":"container_memory_rss",
              "refId":"a",
              "result_table_id":"",
              "result_table_label":"kubernetes",
              "time_field":"",
              "where":[
                {
                  "key":"namespace",
                  "method":"reg",
                  "value":[
                    "bkapp-$bk_app_code-$bk_env"
                  ]
                }
              ]
            }
          ],
          "refId":"A",
          "source":"container_memory_rss{namespace=~\"bkapp-$bk_app_code-$bk_env\"}",
          "step":"",
          "type":"range"
        }
      ],
      "title":"内存使用情况",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":25,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"auto",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"normal"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"percent"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":12,
        "w":6,
        "x":13,
        "y":39
      },
      "id":42,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[

          ],
          "refId":"A",
          "source":"(sum by(pod_name) (rate(container_cpu_usage_seconds_total{namespace=~\"bkapp-$bk_app_code-$bk_env\"}[2m])) / on(pod_name) group_right() sum by(pod_name) (kube_pod_container_resource_requests_cpu_cores{namespace=~\"bkapp-$bk_app_code-$bk_env\"})) * 100",
          "step":"",
          "type":"range"
        }
      ],
      "title":"容量/CPU request使用率",
      "type":"timeseries"
    },
    {
      "datasource":{
        "type":"bkmonitor-timeseries-datasource",
        "uid":"${DS_蓝鲸监控_-_指标数据}"
      },
      "fieldConfig":{
        "defaults":{
          "color":{
            "mode":"palette-classic"
          },
          "custom":{
            "axisCenteredZero":false,
            "axisColorMode":"text",
            "axisLabel":"",
            "axisPlacement":"auto",
            "barAlignment":0,
            "drawStyle":"line",
            "fillOpacity":25,
            "gradientMode":"none",
            "hideFrom":{
              "legend":false,
              "tooltip":false,
              "viz":false
            },
            "lineInterpolation":"linear",
            "lineWidth":1,
            "pointSize":5,
            "scaleDistribution":{
              "type":"linear"
            },
            "showPoints":"auto",
            "spanNulls":false,
            "stacking":{
              "group":"A",
              "mode":"normal"
            },
            "thresholdsStyle":{
              "mode":"off"
            }
          },
          "mappings":[

          ],
          "thresholds":{
            "mode":"absolute",
            "steps":[
              {
                "color":"green"
              },
              {
                "color":"red",
                "value":80
              }
            ]
          },
          "unit":"percent"
        },
        "overrides":[

        ]
      },
      "gridPos":{
        "h":12,
        "w":5,
        "x":19,
        "y":39
      },
      "id":44,
      "options":{
        "legend":{
          "calcs":[

          ],
          "displayMode":"list",
          "placement":"bottom",
          "showLegend":true
        },
        "tooltip":{
          "mode":"single",
          "sort":"none"
        }
      },
      "targets":[
        {
          "cluster":[

          ],
          "datasource":{
            "type":"bkmonitor-timeseries-datasource",
            "uid":"${DS_蓝鲸监控_-_指标数据}"
          },
          "expressionList":[

          ],
          "format":"time_series",
          "host":[

          ],
          "mode":"code",
          "module":[

          ],
          "promqlAlias":"",
          "query_configs":[

          ],
          "refId":"A",
          "source":"(sum(rate(container_cpu_usage_seconds_total{namespace=~\"bkapp-$bk_app_code-$bk_env\"}[2m])) by (pod_name) / sum(kube_pod_container_resource_limits_cpu_cores{namespace=~\"bkapp-$bk_app_code-$bk_env\"}) by (pod_name)) * 100",
          "step":"",
          "type":"range"
        }
      ],
      "title":"容量/CPU limit使用率",
      "type":"timeseries"
    }
  ],
  "refresh":false,
  "schemaVersion":39,
  "tags":[

  ],
  "templating":{
    "list":[
      {
        "current":{

        },
        "datasource":{
          "type":"bkmonitor-timeseries-datasource",
          "uid":"${DS_蓝鲸监控_-_指标数据}"
        },
        "definition":"- Blueking Monitor - 维度",
        "hide":0,
        "includeAll":false,
        "multi":false,
        "name":"bk_app_code",
        "options":[

        ],
        "query":{
          "metricConfig":{
            "data_source_label":"bk_monitor",
            "data_type_label":"time_series",
            "group_by":"bk_app_code",
            "metric_field":"django_http_requests_latency_including_middlewares_seconds_bucket",
            "result_table_id":"",
            "result_table_label":"kubernetes",
            "where":[

            ]
          },
          "queryType":"dimension",
          "variables":""
        },
        "refresh":1,
        "regex":"",
        "skipUrlSync":false,
        "sort":0,
        "type":"query"
      },
      {
        "current":{

        },
        "datasource":{
          "type":"bkmonitor-timeseries-datasource",
          "uid":"${DS_蓝鲸监控_-_指标数据}"
        },
        "definition":"- Blueking Monitor - 维度",
        "hide":0,
        "includeAll":false,
        "multi":false,
        "name":"bk_env",
        "options":[

        ],
        "query":{
          "metricConfig":{
            "data_source_label":"bk_monitor",
            "data_type_label":"time_series",
            "group_by":"bk_env",
            "metric_field":"django_http_requests_latency_including_middlewares_seconds_bucket",
            "result_table_id":"",
            "result_table_label":"kubernetes",
            "where":[

            ]
          },
          "queryType":"dimension",
          "variables":""
        },
        "refresh":1,
        "regex":"",
        "skipUrlSync":false,
        "sort":0,
        "type":"query"
      }
    ]
  },
  "time":{
    "from":"now-1h",
    "to":"now"
  },
  "timepicker":{

  },
  "timezone":"default",
  "title":"bksaas/sops-plugin-python",
  "version":8,
  "weekStart":"",
  "__inputs":[
    {
      "name":"DS_蓝鲸监控_-_指标数据",
      "label":"蓝鲸监控 - 指标数据",
      "description":"",
      "type":"datasource",
      "pluginId":"bkmonitor-timeseries-datasource",
      "pluginName":"蓝鲸监控 - 指标数据"
    }
  ],
  "__requires":[
    {
      "type":"datasource",
      "id":"bkmonitor-timeseries-datasource",
      "name":"蓝鲸监控 - 指标数据"
    }
  ]
}